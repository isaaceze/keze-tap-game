(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7237:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ex});var r=a(5853),s=a(2115);let l=()=>{try{return Math.random().toString(36).substring(2,8).toUpperCase()}catch(e){return console.error("Error generating referral code:",e),"DEMO123"}},n={coins:0,tonCoins:0,level:1,experience:0,experienceToNext:1e3,tapsCount:0,coinsPerTap:1,energy:1e3,maxEnergy:1e3,referralCode:l(),dailyStreak:0,lastLoginDate:"",totalEarnings:0,isInitialized:!0,telegramWebAppAvailable:!1,boosts:{tapPowerBoost:1,energyBoost:1,xpBoost:1,levelBoost:1,tapPowerBoostExpiry:0,energyBoostExpiry:0,xpBoostExpiry:0,levelBoostExpiry:0},tasks:[{id:"daily-attendance",title:"Daily Check-in",description:"Log in today to claim reward",reward:1e3,completed:!1,type:"daily",requirement:1,progress:0},{id:"daily-tap-100",title:"Daily Tapper",description:"Tap 100 times today",reward:500,completed:!1,type:"daily",requirement:100,progress:0},{id:"daily-energy",title:"Energy Saver",description:"Use all your energy today",reward:300,completed:!1,type:"daily",requirement:1e3,progress:0},{id:"social-follow",title:"Follow Us",description:"Follow our Telegram channel",reward:1e3,completed:!1,type:"social"},{id:"achievement-level-5",title:"Level Up Champion",description:"Reach level 5",reward:2500,completed:!1,type:"achievement",requirement:5,progress:1},{id:"achievement-10k",title:"Coin Collector",description:"Earn 10,000 Keze coins",reward:5e3,completed:!1,type:"achievement",requirement:1e4,progress:0}],referrals:[]};function i(e,t){try{switch(t.type){case"SET_INITIALIZED":return{...e,isInitialized:t.isInitialized,telegramWebAppAvailable:t.telegramWebAppAvailable};case"TAP":if(e.energy<=0)return e;let r=Date.now(),s=r<e.boosts.tapPowerBoostExpiry?e.boosts.tapPowerBoost:1,n=r<e.boosts.xpBoostExpiry?e.boosts.xpBoost:1,i=Math.floor(e.coinsPerTap*s),c=Math.floor(+n),o=e.coins+i,d=e.experience+c,m=e.tapsCount+1,h=Math.max(0,e.energy-1),p=e.tasks.map(t=>{try{if("daily-tap-100"===t.id&&!t.completed){let e=Math.min((t.progress||0)+1,t.requirement||100);return{...t,progress:e,completed:e>=(t.requirement||100)}}if("daily-energy"===t.id&&!t.completed){let a=e.maxEnergy-h,r=Math.min(a,t.requirement||1e3);return{...t,progress:r,completed:r>=(t.requirement||1e3)}}if(t.id.startsWith("achievement-")&&t.id.includes("k")&&!t.completed){let e=t.requirement||1e4,a=Math.min(o,e);if(a>=e)return{...t,progress:a,completed:!0};return{...t,progress:a}}return t}catch(e){return console.error("Error updating task:",t.id,e),t}});return{...e,coins:o,experience:d,tapsCount:m,energy:h,totalEarnings:e.totalEarnings+i,tasks:p};case"COMPLETE_TASK":try{let a=e.tasks.find(e=>e.id===t.taskId);if(!a||a.completed)return e;let r=e.tasks.map(e=>e.id===t.taskId?{...e,completed:!0}:e);if("achievement"===a.type){if(console.log("Achievement completed:",a.id),a.id.startsWith("achievement-level-")){let t=(a.requirement||5)+5;console.log("Creating new level achievement: ".concat(t)),r.find(e=>e.id==="achievement-level-".concat(t))||(r.push({id:"achievement-level-".concat(t),title:"Level Up Champion ".concat(t),description:"Reach level ".concat(t),reward:a.reward+1e3,completed:!1,type:"achievement",requirement:t,progress:e.level}),console.log("Added new level achievement: ".concat(t)))}else if(a.id.includes("k")||a.id.includes("10000")){let t=a.requirement||1e4,s=2*t,l=s>=1e6?"".concat(s/1e6,"M"):"".concat(s/1e3,"k");console.log("Creating new coin achievement: ".concat(s)),r.find(e=>e.id==="achievement-".concat(s))||(r.push({id:"achievement-".concat(s),title:"Coin Collector ".concat(l),description:"Earn ".concat(s.toLocaleString()," Keze coins"),reward:a.reward+2e3,completed:!1,type:"achievement",requirement:s,progress:e.coins}),console.log("Added new coin achievement: ".concat(s)))}}return{...e,coins:e.coins+a.reward,totalEarnings:e.totalEarnings+a.reward,tasks:r}}catch(t){return console.error("Error completing task:",t),e}case"ADD_REFERRAL":try{return{...e,referrals:[...e.referrals,t.referral],coins:e.coins+1e3,totalEarnings:e.totalEarnings+1e3}}catch(t){return console.error("Error adding referral:",t),e}case"LEVEL_UP":try{let t=e.level+1,a=1e3+(t-1)*100,r=Math.floor(t/3)+1;return{...e,level:t,experience:0,experienceToNext:1e3*t,coinsPerTap:r,maxEnergy:a,energy:a,tasks:e.tasks.map(e=>{if(e.id.startsWith("achievement-level-")&&!e.completed){let a=e.requirement||5;return t>=a?{...e,progress:t,completed:!0}:{...e,progress:t}}return e})}}catch(t){return console.error("Error leveling up:",t),e}case"RESTORE_ENERGY":try{let t=Math.min(100,Math.floor(.1*e.maxEnergy));return{...e,energy:Math.min(e.energy+t,e.maxEnergy)}}catch(t){return console.error("Error restoring energy:",t),e}case"LOAD_GAME":try{return{...e,...t.state,referralCode:t.state.referralCode||e.referralCode||l(),userId:t.state.userId||e.userId,isInitialized:!0}}catch(t){return console.error("Error loading game state:",t),{...e,isInitialized:!0}}case"SPIN_WHEEL":case"TREASURE_HUNT":case"COIN_FLIP":try{let a=t.result.coins-t.stake;return{...e,coins:e.coins+a,tonCoins:e.tonCoins+(t.result.tonCoins||0),totalEarnings:e.totalEarnings+Math.max(0,a)}}catch(t){return console.error("Error processing game result:",t),e}case"INIT_TELEGRAM_USER":try{var a;return{...e,userId:t.userData.userId,username:t.userData.username,firstName:t.userData.firstName,lastName:t.userData.lastName,referralCode:(null==(a=t.userData.userId)?void 0:a.toString())||e.referralCode}}catch(t){return console.error("Error initializing Telegram user:",t),e}case"ACTIVATE_BOOST":try{if(e.coins<t.cost)return e;let a=t.duration,r=Date.now()+a,s={...e.boosts};switch(t.boostType){case"tapPower":s.tapPowerBoost=2,s.tapPowerBoostExpiry=r;break;case"energy":s.energyBoost=2,s.energyBoostExpiry=r;break;case"xp":s.xpBoost=2,s.xpBoostExpiry=r;break;case"level":s.levelBoost=2,s.levelBoostExpiry=r}return{...e,coins:e.coins-t.cost,boosts:s}}catch(t){return console.error("Error activating boost:",t),e}case"CHECK_BOOST_EXPIRY":try{let t=Date.now(),a={...e.boosts};return t>=a.tapPowerBoostExpiry&&(a.tapPowerBoost=1),t>=a.energyBoostExpiry&&(a.energyBoost=1),t>=a.xpBoostExpiry&&(a.xpBoost=1),t>=a.levelBoostExpiry&&(a.levelBoost=1),{...e,boosts:a}}catch(t){return console.error("Error checking boost expiry:",t),e}case"CHECK_DAILY_RESET":try{let t=new Date().toDateString(),a=e.lastLoginDate;if(a!==t){let r=new Date;r.setDate(r.getDate()-1);let s=a===r.toDateString(),l=e.tasks.map(e=>"daily"===e.type?{...e,completed:!1,progress:0}:e);return{...e,lastLoginDate:t,dailyStreak:s?e.dailyStreak+1:1,tasks:l}}return e}catch(t){return console.error("Error checking daily reset:",t),e}case"CLAIM_DAILY_ATTENDANCE":try{let t=new Date().toDateString(),a=e.tasks.find(e=>"daily-attendance"===e.id);if(!a||a.completed||e.lastLoginDate!==t)return e;let r=e.tasks.map(e=>"daily-attendance"===e.id?{...e,completed:!0,progress:1}:e);return{...e,coins:e.coins+a.reward,totalEarnings:e.totalEarnings+a.reward,tasks:r}}catch(t){return console.error("Error claiming daily attendance:",t),e}default:return e}}catch(t){return console.error("Critical error in gameReducer:",t),e}}let c=(0,s.createContext)(null),o=(e,t)=>{try{window.localStorage&&localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("Failed to save to localStorage:",e)}},d=e=>{try{if(window.localStorage){let t=localStorage.getItem(e);if(t)return JSON.parse(t)}}catch(e){console.error("Failed to load from localStorage:",e)}return null},m=async e=>{try{var t,a;if(await new Promise(e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(void 0)}),!((null==(t=window.Telegram)?void 0:t.WebApp)||window.location.search.includes("tgWebAppData")||window.navigator.userAgent.includes("TelegramBot")||document.referrer.includes("t.me"))){console.log("Running in web mode - creating demo user"),e({type:"INIT_TELEGRAM_USER",userData:{userId:0x75bcd15,username:"webuser",firstName:"Web",lastName:"User"}}),e({type:"SET_INITIALIZED",isInitialized:!0,telegramWebAppAvailable:!1});return}let r=window.Telegram.WebApp;console.log("Telegram WebApp available, initializing...");try{r.expand()}catch(e){console.warn("Could not expand Telegram WebApp:",e)}try{r.enableClosingConfirmation()}catch(e){console.warn("Could not enable closing confirmation:",e)}try{r.MainButton&&(r.MainButton.setText("\uD83C\uDFAE Share Game"),r.MainButton.show(),r.MainButton.onClick(()=>{try{let e=encodeURIComponent("\uD83E\uDE99 Join me in Keze Tap Game! Earn coins by tapping and playing games!"),t=encodeURIComponent(window.location.href);r.openTelegramLink("https://t.me/share/url?url=".concat(t,"&text=").concat(e))}catch(e){console.error("Error sharing game:",e)}}))}catch(e){console.warn("Could not set main button:",e)}try{let t=null==(a=r.initDataUnsafe)?void 0:a.user;if(t){e({type:"INIT_TELEGRAM_USER",userData:{userId:t.id,username:t.username,firstName:t.first_name,lastName:t.last_name}});try{let a=await fetch("".concat("https://keze.bissols.com/api","/user/").concat(t.id),{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){let t=await a.json();e({type:"LOAD_GAME",state:t})}else console.log("Backend response not ok:",a.status)}catch(e){console.log("Backend not available, continuing in offline mode:",e)}}else console.log("No user data available from Telegram")}catch(e){console.warn("Error getting Telegram user data:",e)}try{r.themeParams&&(document.documentElement.style.setProperty("--tg-theme-bg-color",r.themeParams.bg_color||"#1a1a2e"),document.documentElement.style.setProperty("--tg-theme-text-color",r.themeParams.text_color||"#ffffff"),document.documentElement.style.setProperty("--tg-theme-button-color",r.themeParams.button_color||"#5288c1"))}catch(e){console.warn("Error setting theme colors:",e)}try{r.HapticFeedback&&(window.triggerHaptic=e=>{try{"light"===e&&r.HapticFeedback.impactOccurred("light"),"medium"===e&&r.HapticFeedback.impactOccurred("medium"),"heavy"===e&&r.HapticFeedback.impactOccurred("heavy")}catch(e){console.warn("Haptic feedback error:",e)}})}catch(e){console.warn("Error setting up haptic feedback:",e)}e({type:"SET_INITIALIZED",isInitialized:!0,telegramWebAppAvailable:!0}),console.log("Telegram WebApp initialization completed successfully")}catch(t){console.error("Error in Telegram WebApp initialization:",t),e({type:"SET_INITIALIZED",isInitialized:!0,telegramWebAppAvailable:!1})}};function h(e){let{children:t}=e,[a,l]=(0,s.useReducer)(i,n);return(0,s.useEffect)(()=>{(async()=>{try{let e=d("telegram-tap-game");e&&l({type:"LOAD_GAME",state:e}),m(l).catch(e=>{console.error("Error during Telegram WebApp initialization:",e),l({type:"SET_INITIALIZED",isInitialized:!0,telegramWebAppAvailable:!1})})}catch(e){console.error("Error during game initialization:",e)}})()},[]),(0,s.useEffect)(()=>{a.isInitialized&&o("telegram-tap-game",a)},[a,a.isInitialized]),(0,s.useEffect)(()=>{if(!a.isInitialized)return;let e=setInterval(()=>{try{a.energy<a.maxEnergy&&l({type:"RESTORE_ENERGY"})}catch(e){console.error("Error in energy regeneration:",e)}},1e4);return()=>clearInterval(e)},[a.energy,a.maxEnergy,a.isInitialized]),(0,s.useEffect)(()=>{if(a.isInitialized)try{a.experience>=a.experienceToNext&&l({type:"LEVEL_UP"})}catch(e){console.error("Error in auto level up:",e)}},[a.experience,a.experienceToNext,a.isInitialized]),(0,s.useEffect)(()=>{if(!a.isInitialized)return;let e=setInterval(()=>{try{l({type:"CHECK_BOOST_EXPIRY"})}catch(e){console.error("Error checking boost expiry:",e)}},1e3);return()=>clearInterval(e)},[a.isInitialized]),(0,s.useEffect)(()=>{if(a.isInitialized)try{console.log("Checking daily reset..."),l({type:"CHECK_DAILY_RESET"}),setTimeout(()=>{let e=new Date().toDateString(),t=a.tasks.find(e=>"daily-attendance"===e.id);console.log("Daily attendance task:",t),console.log("Last login date:",a.lastLoginDate),console.log("Today:",e),t&&!t.completed&&(console.log("Auto-claiming daily attendance..."),l({type:"CLAIM_DAILY_ATTENDANCE"}))},100)}catch(e){console.error("Error in daily reset check:",e)}},[a.isInitialized]),(0,s.useEffect)(()=>{if(!a.isInitialized)return;let e=new Date().toDateString();a.lastLoginDate!==e&&(console.log("Date changed, triggering daily reset"),l({type:"CHECK_DAILY_RESET"}))},[a.lastLoginDate,a.isInitialized]),(0,r.Y)(c.Provider,{value:{state:a,dispatch:l},children:t})}function p(){let e=(0,s.useContext)(c);if(!e)throw Error("useGame must be used within a GameProvider");return e}var g=a(2731),u=a(2596),x=a(9688);function b(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,x.QP)((0,u.$)(t))}let f=g.bL,y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(g.B8,{ref:t,className:b("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s})});y.displayName=g.B8.displayName;let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(g.l9,{ref:t,className:b("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s})});N.displayName=g.l9.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(g.UC,{ref:t,className:b("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});v.displayName=g.UC.displayName;var w=a(9137),Y=a.n(w),D=a(9708),F=a(2085);let E=(0,F.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),A=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:n=!1,...i}=e,c=n?D.DX:"button";return(0,r.Y)(c,{className:b(E({variant:s,size:l,className:a})),ref:t,...i})});A.displayName="Button";var k=a(5863);let C=s.forwardRef((e,t)=>{let{className:a,value:s,...l}=e;return(0,r.Y)(k.bL,{ref:t,className:b("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...l,children:(0,r.Y)(k.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});C.displayName=k.bL.displayName;var T=a(659),S=a(8646),I=a(8988),L=a(9829);function j(){let{state:e,dispatch:t}=p(),[a,l]=(0,s.useState)([]),[n,i]=(0,s.useState)(!1),c=async(a,r)=>{if(!(e.energy<a)){if(window.triggerHaptic&&window.triggerHaptic(a>1?"medium":"light"),e.userId)try{let r=await fetch("".concat("https://keze.bissols.com/api","/tap"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e.userId,taps:a})});if(r.ok){let e=await r.json();t({type:"LOAD_GAME",state:e})}else for(let e=0;e<a;e++)t({type:"TAP"})}catch(e){for(let e=0;e<a;e++)t({type:"TAP"})}else for(let e=0;e<a;e++)t({type:"TAP"});r.forEach((e,t)=>{let a={id:"".concat(Math.random().toString(36),"-").concat(t),x:e.x,y:e.y};setTimeout(()=>{l(e=>[...e,a])},50*t),setTimeout(()=>{l(e=>e.filter(e=>e.id!==a.id))},1e3+50*t)})}},o=async t=>{if(e.energy<=0)return;let a=t.currentTarget.getBoundingClientRect(),r=t.clientX-a.left,s=t.clientY-a.top;await c(1,[{x:r,y:s}])},d=async t=>{if(t.preventDefault(),e.energy<=0)return;let a=t.currentTarget.getBoundingClientRect(),r=Array.from(t.touches),s=Math.min(r.length,e.energy,10),l=r.slice(0,s).map(e=>({x:e.clientX-a.left,y:e.clientY-a.top}));await c(s,l)},m=e.energy/e.maxEnergy*100,h=e.experience/e.experienceToNext*100;return(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex flex-col items-center justify-center min-h-[calc(100vh-140px)] p-6 relative",children:[(0,r.FD)("div",{className:"jsx-cced9ba193406e56 w-full mb-6",children:[(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex justify-between items-center mb-2",children:[(0,r.FD)("span",{className:"jsx-cced9ba193406e56 text-sm text-purple-300",children:["Level ",e.level]}),(0,r.FD)("span",{className:"jsx-cced9ba193406e56 text-sm text-purple-300",children:[e.experience,"/",e.experienceToNext," XP"]})]}),(0,r.Y)(C,{value:h,className:"h-2 bg-purple-900"})]}),(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex items-center gap-2 mb-8 bg-black/20 px-4 py-2 rounded-full",children:[(0,r.Y)(T.A,{className:"w-4 h-4 text-green-400"}),(0,r.FD)("span",{className:"jsx-cced9ba193406e56 text-green-400 font-semibold",children:["+",e.coinsPerTap," KEZE per tap"]})]}),(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex items-center justify-center gap-2 sm:gap-4 mb-8 w-full px-2",children:[(0,r.Y)("div",{className:"jsx-cced9ba193406e56 flex-shrink-0",children:(0,r.FD)(A,{onClick:()=>{try{console.log("Games button clicked");let e=document.querySelector('[role="tab"][aria-controls*="games"]')||document.querySelector('[value="games"]')||document.querySelector('button:has-text("Games")');e?(console.log("Found games tab, clicking..."),e.click()):(console.log("Tab not found, using event fallback"),window.dispatchEvent(new CustomEvent("navigate-to-games")))}catch(e){console.error("Error navigating to games:",e)}},className:"flex flex-col items-center gap-1 p-2 bg-purple-600/20 border border-purple-400/30 hover:bg-purple-600/30 transition-colors w-14 h-14 sm:w-16 sm:h-16 text-center",children:[(0,r.Y)(S.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-400"}),(0,r.Y)("span",{className:"jsx-cced9ba193406e56 text-xs text-purple-300 leading-none",children:"Games"})]})}),(0,r.FD)("div",{className:"jsx-cced9ba193406e56 relative flex-shrink-0 mx-2",children:[(0,r.Y)(A,{onClick:o,onTouchStart:d,onMouseDown:()=>i(!0),onMouseUp:()=>i(!1),onMouseLeave:()=>i(!1),onTouchEnd:()=>i(!1),disabled:e.energy<=0,className:"\n              w-36 h-36 sm:w-44 sm:h-44 rounded-full bg-gradient-to-b from-yellow-400 to-orange-500\n              border-4 sm:border-6 border-yellow-300 shadow-2xl transition-all duration-100\n              hover:scale-105 active:scale-95 disabled:opacity-50 disabled:scale-100\n              touch-manipulation select-none\n              ".concat(n?"scale-95":"","\n            "),children:(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex flex-col items-center",children:[(0,r.Y)(I.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white mb-1 sm:mb-2"}),(0,r.Y)("span",{className:"jsx-cced9ba193406e56 text-white font-bold text-sm sm:text-base",children:"TAP!"})]})}),a.map(t=>(0,r.FD)("div",{style:{left:t.x,top:t.y,animation:"floatUp 1s ease-out forwards"},className:"jsx-cced9ba193406e56 absolute pointer-events-none animate-bounce text-yellow-400 font-bold text-base sm:text-lg z-10",children:["+",e.coinsPerTap," KEZE"]},t.id))]}),(0,r.Y)("div",{className:"jsx-cced9ba193406e56 flex-shrink-0",children:(0,r.FD)(A,{onClick:()=>{try{console.log("Boosts button clicked");let e=document.querySelector('[role="tab"][aria-controls*="boosts"]')||document.querySelector('[value="boosts"]')||document.querySelector('button:has-text("Boosts")');e?(console.log("Found boosts tab, clicking..."),e.click()):(console.log("Tab not found, using event fallback"),window.dispatchEvent(new CustomEvent("navigate-to-boosts")))}catch(e){console.error("Error navigating to boosts:",e)}},className:"flex flex-col items-center gap-1 p-2 bg-green-600/20 border border-green-400/30 hover:bg-green-600/30 transition-colors relative w-14 h-14 sm:w-16 sm:h-16 text-center",children:[(0,r.Y)(T.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400"}),(0,r.Y)("span",{className:"jsx-cced9ba193406e56 text-xs text-green-300 leading-none",children:"Boosts"}),Object.values(e.boosts).some((t,a)=>{let r=[e.boosts.tapPowerBoostExpiry,e.boosts.energyBoostExpiry,e.boosts.xpBoostExpiry,e.boosts.levelBoostExpiry];return Date.now()<r[a]&&t>1})&&(0,r.Y)("div",{className:"jsx-cced9ba193406e56 absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]})})]}),(0,r.FD)("div",{className:"jsx-cced9ba193406e56 w-full max-w-sm",children:[(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex justify-between items-center mb-2",children:[(0,r.FD)("div",{className:"jsx-cced9ba193406e56 flex items-center gap-2",children:[(0,r.Y)(L.A,{className:"w-4 h-4 text-blue-400"}),(0,r.Y)("span",{className:"jsx-cced9ba193406e56 text-sm text-blue-300",children:"Energy"})]}),(0,r.FD)("span",{className:"jsx-cced9ba193406e56 text-sm text-blue-300",children:[e.energy,"/",e.maxEnergy]})]}),(0,r.Y)(C,{value:m,className:"h-3 ".concat(e.energy<=0?"bg-red-900":"bg-blue-900")}),e.energy<=0&&(0,r.Y)("p",{className:"jsx-cced9ba193406e56 text-center text-red-400 text-sm mt-2",children:"Energy depleted! Wait for it to regenerate."}),e.energy>0&&e.energy<.2*e.maxEnergy&&(0,r.Y)("p",{className:"jsx-cced9ba193406e56 text-center text-orange-400 text-sm mt-2",children:"Low energy! Consider taking a break."})]}),(0,r.FD)("div",{className:"jsx-cced9ba193406e56 grid grid-cols-2 gap-4 mt-8 w-full max-w-sm",children:[(0,r.FD)("div",{className:"jsx-cced9ba193406e56 bg-black/20 p-3 rounded-lg text-center",children:[(0,r.Y)("div",{className:"jsx-cced9ba193406e56 text-2xl font-bold text-white",children:e.tapsCount.toLocaleString()}),(0,r.Y)("div",{className:"jsx-cced9ba193406e56 text-sm text-gray-300",children:"Total Taps"})]}),(0,r.FD)("div",{className:"jsx-cced9ba193406e56 bg-black/20 p-3 rounded-lg text-center",children:[(0,r.Y)("div",{className:"jsx-cced9ba193406e56 text-2xl font-bold text-yellow-400",children:e.totalEarnings.toLocaleString()}),(0,r.Y)("div",{className:"jsx-cced9ba193406e56 text-sm text-gray-300",children:"Total Earned"})]})]}),(0,r.Y)(Y(),{id:"cced9ba193406e56",children:"@-webkit-keyframes floatUp{0%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-webkit-transform:translatey(-100px);transform:translatey(-100px)}}@-moz-keyframes floatUp{0%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-moz-transform:translatey(-100px);transform:translatey(-100px)}}@-o-keyframes floatUp{0%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-o-transform:translatey(-100px);transform:translatey(-100px)}}@keyframes floatUp{0%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-webkit-transform:translatey(-100px);-moz-transform:translatey(-100px);-o-transform:translatey(-100px);transform:translatey(-100px)}}"})]})}let B=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:b("rounded-xl border bg-card text-card-foreground shadow",a),...s})});B.displayName="Card";let P=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:b("flex flex-col space-y-1.5 p-6",a),...s})});P.displayName="CardHeader";let _=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:b("font-semibold leading-none tracking-tight",a),...s})});_.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:b("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let M=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:b("p-6 pt-0",a),...s})});M.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:b("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";let z=(0,F.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function R(e){let{className:t,variant:a,...s}=e;return(0,r.Y)("div",{className:b(z({variant:a}),t),...s})}var O=a(7648),K=a(286),U=a(5268),H=a(8376),W=a(1840);function q(){let{state:e,dispatch:t}=p(),a=a=>{let r=e.tasks.find(e=>e.id===a);r&&!r.completed&&("social"===r.type?(window.open("https://t.me/your-channel","_blank"),setTimeout(()=>{t({type:"COMPLETE_TASK",taskId:a})},2e3)):t({type:"COMPLETE_TASK",taskId:a}))},s=e=>{switch(e){case"daily":return(0,r.Y)(O.A,{className:"w-5 h-5 text-blue-400"});case"social":return(0,r.Y)(K.A,{className:"w-5 h-5 text-green-400"});case"achievement":return(0,r.Y)(U.A,{className:"w-5 h-5 text-yellow-400"});default:return(0,r.Y)(I.A,{className:"w-5 h-5 text-gray-400"})}},l=e=>{switch(e){case"daily":return"bg-blue-500";case"social":return"bg-green-500";case"achievement":return"bg-yellow-500";default:return"bg-gray-500"}},n=e=>!e.completed&&("social"===e.type||!e.requirement||void 0===e.progress||e.progress>=e.requirement),i=e=>e.requirement&&void 0!==e.progress?Math.min(e.progress/e.requirement*100,100):0,c=e.tasks.filter(e=>"daily"===e.type),o=e.tasks.filter(e=>"social"===e.type),d=e.tasks.filter(e=>"achievement"===e.type);return(0,r.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Tasks"}),(0,r.Y)("p",{className:"text-gray-300",children:"Complete tasks to earn bonus Keze coins!"})]}),(0,r.FD)("div",{children:[(0,r.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,r.Y)(O.A,{className:"w-5 h-5 text-blue-400"}),"Daily Tasks"]}),(0,r.Y)("div",{className:"space-y-3",children:c.map(e=>(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4",children:[(0,r.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.FD)("div",{className:"flex items-center gap-3",children:[s(e.type),(0,r.FD)("div",{children:[(0,r.Y)("h3",{className:"font-semibold text-white",children:e.title}),(0,r.Y)("p",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,r.Y)(R,{className:"".concat(l(e.type)," text-white"),children:e.type})]}),e.requirement&&void 0!==e.progress&&(0,r.FD)("div",{className:"mb-3",children:[(0,r.FD)("div",{className:"flex justify-between text-sm text-gray-300 mb-1",children:[(0,r.Y)("span",{children:"Progress"}),(0,r.FD)("span",{children:[e.progress,"/",e.requirement]})]}),(0,r.Y)(C,{value:i(e),className:"h-2"})]}),(0,r.FD)("div",{className:"flex items-center justify-between",children:[(0,r.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,r.Y)(I.A,{className:"w-4 h-4"}),(0,r.FD)("span",{className:"font-semibold",children:["+",e.reward]})]}),e.completed?(0,r.FD)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,r.Y)(H.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-sm",children:"Completed"})]}):(0,r.Y)(A,{onClick:()=>a(e.id),disabled:!n(e),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:n(e)?"Claim":"Not Ready"})]})]})},e.id))})]}),(0,r.FD)("div",{children:[(0,r.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,r.Y)(K.A,{className:"w-5 h-5 text-green-400"}),"Social Tasks"]}),(0,r.Y)("div",{className:"space-y-3",children:o.map(e=>(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4",children:[(0,r.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.FD)("div",{className:"flex items-center gap-3",children:[s(e.type),(0,r.FD)("div",{children:[(0,r.Y)("h3",{className:"font-semibold text-white",children:e.title}),(0,r.Y)("p",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,r.Y)(R,{className:"".concat(l(e.type)," text-white"),children:e.type})]}),(0,r.FD)("div",{className:"flex items-center justify-between",children:[(0,r.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,r.Y)(I.A,{className:"w-4 h-4"}),(0,r.FD)("span",{className:"font-semibold",children:["+",e.reward]})]}),e.completed?(0,r.FD)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,r.Y)(H.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-sm",children:"Completed"})]}):(0,r.FD)(A,{onClick:()=>a(e.id),size:"sm",className:"bg-green-600 hover:bg-green-700 flex items-center gap-2",children:[(0,r.Y)(W.A,{className:"w-4 h-4"}),"Visit"]})]})]})},e.id))})]}),(0,r.FD)("div",{children:[(0,r.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,r.Y)(U.A,{className:"w-5 h-5 text-yellow-400"}),"Achievements"]}),(0,r.Y)("div",{className:"space-y-3",children:d.map(e=>(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4",children:[(0,r.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.FD)("div",{className:"flex items-center gap-3",children:[s(e.type),(0,r.FD)("div",{children:[(0,r.Y)("h3",{className:"font-semibold text-white",children:e.title}),(0,r.Y)("p",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,r.Y)(R,{className:"".concat(l(e.type)," text-white"),children:e.type})]}),e.requirement&&void 0!==e.progress&&(0,r.FD)("div",{className:"mb-3",children:[(0,r.FD)("div",{className:"flex justify-between text-sm text-gray-300 mb-1",children:[(0,r.Y)("span",{children:"Progress"}),(0,r.FD)("span",{children:[e.progress,"/",e.requirement]})]}),(0,r.Y)(C,{value:i(e),className:"h-2"})]}),(0,r.FD)("div",{className:"flex items-center justify-between",children:[(0,r.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,r.Y)(I.A,{className:"w-4 h-4"}),(0,r.FD)("span",{className:"font-semibold",children:["+",e.reward]})]}),e.completed?(0,r.FD)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,r.Y)(H.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-sm",children:"Completed"})]}):(0,r.Y)(A,{onClick:()=>a(e.id),disabled:!n(e),size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:n(e)?"Claim":"In Progress"})]})]})},e.id))})]})]})}var G=a(4011);let Z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(G.bL,{ref:t,className:b("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});Z.displayName=G.bL.displayName;let V=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(G._V,{ref:t,className:b("aspect-square h-full w-full",a),...s})});V.displayName=G._V.displayName;let X=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(G.H4,{ref:t,className:b("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});X.displayName=G.H4.displayName;var J=a(2160),Q=a(5599),$=a(33);function ee(){let{state:e,dispatch:t}=p(),[a,l]=(0,s.useState)(!1);if(!(null==e?void 0:e.isInitialized))return(0,r.Y)("div",{className:"p-4 space-y-6 pb-20 flex items-center justify-center min-h-96",children:(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)(K.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.Y)("h3",{className:"text-white font-semibold mb-2",children:"Loading Friends..."}),(0,r.Y)("p",{className:"text-gray-300 text-sm",children:"Please wait while we initialize your data"})]})});let n=s.useMemo(()=>{try{if(e.referralCode&&"undefined"!==e.referralCode)return e.referralCode;if(e.userId&&0!==e.userId)return e.userId.toString();if(e.firstName||e.username)return"USER_".concat((e.firstName||e.username||"").slice(0,3).toUpperCase()).concat(Math.random().toString(36).slice(2,5));return"DEMO_".concat(Math.random().toString(36).slice(2,8).toUpperCase())}catch(e){return console.error("Error generating safe referral code:",e),"SAFE_".concat(Date.now().toString(36).slice(-6).toUpperCase())}},[e.referralCode,e.userId,e.firstName,e.username]),i=s.useMemo(()=>{try{return"https://t.me/kezeBot?start=".concat(n)}catch(e){return console.error("Error generating referral link:",e),"https://t.me/kezeBot"}},[n]),c="\uD83E\uDE99 Join me in Keze Tap Game! Earn KEZE coins by tapping and playing games. Use my referral code: ".concat(n),o=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(n);else{let e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}l(!0),setTimeout(()=>l(!1),2e3),window.triggerHaptic&&window.triggerHaptic("light")}catch(e){console.error("Failed to copy referral code:",e),l(!0),setTimeout(()=>l(!1),2e3)}},d=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(i);else{let e=document.createElement("textarea");e.value=i,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}l(!0),setTimeout(()=>l(!1),2e3),window.triggerHaptic&&window.triggerHaptic("light")}catch(e){console.error("Failed to copy link:",e),l(!0),setTimeout(()=>l(!1),2e3)}},m=()=>{try{var t,a;let r="https://t.me/share/url?url=".concat(encodeURIComponent(i),"&text=").concat(encodeURIComponent(c));e.telegramWebAppAvailable&&(null==(a=window.Telegram)||null==(t=a.WebApp)?void 0:t.openTelegramLink)?window.Telegram.WebApp.openTelegramLink(r):window.open?window.open(r,"_blank","noopener,noreferrer"):d()}catch(e){console.error("Failed to share:",e),d()}},h=s.useMemo(()=>{try{if(!e.referrals||!Array.isArray(e.referrals))return 0;return e.referrals.reduce((e,t)=>{let a="number"==typeof(null==t?void 0:t.earnings)?t.earnings:0;return e+a},0)}catch(e){return console.error("Error calculating referral earnings:",e),0}},[e.referrals]),g=s.useMemo(()=>{try{return Array.isArray(e.referrals)?e.referrals:[]}catch(e){return console.error("Error accessing referrals:",e),[]}},[e.referrals]);return(0,r.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Friends"}),(0,r.Y)("p",{className:"text-gray-300",children:"Invite friends and earn bonus Keze coins!"})]}),(0,r.FD)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4 text-center",children:[(0,r.Y)(K.A,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,r.Y)("div",{className:"text-2xl font-bold text-white",children:g.length}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Friends Invited"})]})}),(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4 text-center",children:[(0,r.Y)(I.A,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),(0,r.Y)("div",{className:"text-2xl font-bold text-yellow-400",children:h.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Bonus Earned"})]})})]}),(0,r.FD)(B,{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 border-purple-400/30",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(J.A,{className:"w-5 h-5"}),"Referral Rewards"]})}),(0,r.FD)(M,{className:"space-y-3",children:[(0,r.FD)("div",{className:"flex items-center justify-between p-3 bg-black/20 rounded-lg",children:[(0,r.FD)("div",{children:[(0,r.Y)("div",{className:"text-white font-semibold",children:"Invite a Friend"}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Both you and your friend get bonus Keze coins"})]}),(0,r.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,r.Y)(I.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"font-bold",children:"+1,000"})]})]}),(0,r.FD)("div",{className:"flex items-center justify-between p-3 bg-black/20 rounded-lg",children:[(0,r.FD)("div",{children:[(0,r.Y)("div",{className:"text-white font-semibold",children:"Friend Earns 10K+"}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Additional bonus when your friend succeeds"})]}),(0,r.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,r.Y)(I.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"font-bold",children:"+2,500"})]})]})]})]}),(0,r.FD)(B,{className:"bg-black/20 border-white/10",children:[(0,r.Y)(P,{children:(0,r.Y)(_,{className:"text-white",children:"Your Referral Code"})}),(0,r.FD)(M,{className:"space-y-4",children:[(0,r.FD)("div",{className:"flex items-center justify-between p-3 bg-black/30 rounded-lg",children:[(0,r.Y)("span",{className:"text-xl font-mono text-yellow-400",children:n}),(0,r.Y)(A,{onClick:o,size:"sm",variant:"outline",className:"border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black",children:a?(0,r.Y)(H.A,{className:"w-4 h-4"}):(0,r.Y)(Q.A,{className:"w-4 h-4"})})]}),(0,r.FD)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.FD)(A,{onClick:d,variant:"outline",className:"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-black",children:[(0,r.Y)(Q.A,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),(0,r.FD)(A,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.Y)($.A,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})]}),g.length>0&&(0,r.FD)("div",{children:[(0,r.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,r.Y)(K.A,{className:"w-5 h-5"}),"Your Friends (",g.length,")"]}),(0,r.Y)("div",{className:"space-y-3",children:g.map(e=>{try{var t;return(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.Y)(M,{className:"p-4",children:(0,r.FD)("div",{className:"flex items-center justify-between",children:[(0,r.FD)("div",{className:"flex items-center gap-3",children:[(0,r.Y)(Z,{className:"w-10 h-10",children:(0,r.Y)(X,{className:"bg-purple-600 text-white",children:(e.username||"U").charAt(0).toUpperCase()})}),(0,r.FD)("div",{children:[(0,r.Y)("div",{className:"font-semibold text-white",children:e.username||"Anonymous"}),(0,r.FD)("div",{className:"text-sm text-gray-300",children:["Joined ",(null==(t=e.joinedAt)?void 0:t.toLocaleDateString())||"Recently"]})]})]}),(0,r.FD)("div",{className:"text-right",children:[(0,r.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,r.Y)(I.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"font-semibold",children:(e.earnings||0).toLocaleString()})]}),(0,r.Y)(R,{variant:"outline",className:"text-green-400 border-green-400 text-xs",children:"Active"})]})]})})},e.id)}catch(e){return console.error("Error rendering referral:",e),null}})})]}),0===g.length&&(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-8 text-center",children:[(0,r.Y)(K.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.Y)("h3",{className:"text-white font-semibold mb-2",children:"No friends yet"}),(0,r.Y)("p",{className:"text-gray-300 text-sm mb-4",children:"Start inviting friends to earn bonus coins and build your network!"}),(0,r.FD)(A,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:[(0,r.Y)($.A,{className:"w-4 h-4 mr-2"}),"Invite Your First Friend"]})]})})]})}var et=a(1203),ea=a(1467),er=a(462),es=a(1721);function el(){var e,t,a;let{state:s}=p(),l=s.experience/s.experienceToNext*100,n=s.tasks.filter(e=>e.completed).length,i=s.tasks.length,c=n/i*100,o=(a=s.totalEarnings)>=1e5?{name:"Diamond",color:"text-cyan-400",bg:"bg-cyan-600"}:a>=5e4?{name:"Platinum",color:"text-gray-300",bg:"bg-gray-600"}:a>=25e3?{name:"Gold",color:"text-yellow-400",bg:"bg-yellow-600"}:a>=1e4?{name:"Silver",color:"text-gray-400",bg:"bg-gray-500"}:{name:"Bronze",color:"text-orange-400",bg:"bg-orange-600"},d=[{id:"first-tap",name:"First Tap",description:"Made your first tap",earned:s.tapsCount>0,icon:et.A},{id:"hundred-taps",name:"Tap Master",description:"Made 100 taps",earned:s.tapsCount>=100,icon:et.A},{id:"thousand-taps",name:"Tap Champion",description:"Made 1,000 taps",earned:s.tapsCount>=1e3,icon:ea.A},{id:"level-5",name:"Rising Star",description:"Reached level 5",earned:s.level>=5,icon:er.A},{id:"first-friend",name:"Social Butterfly",description:"Invited first friend",earned:s.referrals.length>0,icon:K.A},{id:"task-master",name:"Task Master",description:"Completed 5 tasks",earned:n>=5,icon:U.A}],m=d.filter(e=>e.earned);return(0,r.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,r.Y)(B,{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 border-purple-400/30",children:(0,r.FD)(M,{className:"p-6",children:[(0,r.FD)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.FD)(Z,{className:"w-16 h-16",children:[s.telegramWebAppAvailable&&s.userId&&(0,r.Y)(V,{src:"https://t.me/i/userpic/320/".concat(s.userId,".jpg"),alt:"Profile photo",onError:e=>{e.target.style.display="none"}}),(0,r.Y)(X,{className:"bg-purple-600 text-white text-xl",children:s.firstName?(0,r.FD)("span",{className:"text-lg font-bold",children:[s.firstName.charAt(0),(null==(e=s.lastName)?void 0:e.charAt(0))||""]}):(0,r.Y)(es.A,{className:"w-8 h-8"})})]}),(0,r.FD)("div",{children:[(0,r.Y)("h1",{className:"text-2xl font-bold text-white",children:s.firstName||s.username||"Player #".concat(s.referralCode||(null==(t=s.userId)?void 0:t.toString())||"DEMO")}),s.username&&(0,r.FD)("div",{className:"text-sm text-blue-300 mb-1",children:["@",s.username]}),s.telegramWebAppAvailable?(0,r.FD)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.Y)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,r.Y)("span",{className:"text-xs text-green-300",children:"Connected to Telegram"})]}):(0,r.FD)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.Y)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,r.Y)("span",{className:"text-xs text-orange-300",children:"Web Mode"})]}),(0,r.FD)(R,{className:"".concat(o.bg," text-white"),children:[o.name," Tier"]})]})]}),(0,r.FD)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("div",{className:"text-xl font-bold text-yellow-400",children:s.coins.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Keze Coins"})]}),(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("div",{className:"text-xl font-bold text-blue-400",children:s.tonCoins.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"TON Coins"})]}),(0,r.FD)("div",{className:"text-center",children:[(0,r.FD)("div",{className:"text-xl font-bold text-purple-400",children:["Level ",s.level]}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Current Level"})]})]})]})}),(0,r.FD)(B,{className:"bg-black/20 border-white/10",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(T.A,{className:"w-5 h-5"}),"Level Progress"]})}),(0,r.Y)(M,{children:(0,r.FD)("div",{className:"space-y-2",children:[(0,r.FD)("div",{className:"flex justify-between text-sm",children:[(0,r.FD)("span",{className:"text-gray-300",children:["Level ",s.level]}),(0,r.FD)("span",{className:"text-gray-300",children:["Level ",s.level+1]})]}),(0,r.Y)(C,{value:l,className:"h-3"}),(0,r.FD)("div",{className:"text-center text-sm text-gray-300",children:[s.experience.toLocaleString()," / ",s.experienceToNext.toLocaleString()," XP"]})]})})]}),(0,r.FD)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4 text-center",children:[(0,r.Y)(et.A,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,r.Y)("div",{className:"text-xl font-bold text-white",children:s.tapsCount.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Total Taps"})]})}),(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4 text-center",children:[(0,r.Y)(I.A,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),(0,r.Y)("div",{className:"text-xl font-bold text-yellow-400",children:s.totalEarnings.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Total Earned"})]})}),(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4 text-center",children:[(0,r.Y)(K.A,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),(0,r.Y)("div",{className:"text-xl font-bold text-white",children:s.referrals.length}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Friends Invited"})]})}),(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4 text-center",children:[(0,r.Y)(U.A,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),(0,r.FD)("div",{className:"text-xl font-bold text-white",children:[n,"/",i]}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Tasks Completed"})]})})]}),(0,r.FD)(B,{className:"bg-black/20 border-white/10",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(L.A,{className:"w-5 h-5"}),"Game Stats"]})}),(0,r.FD)(M,{className:"space-y-4",children:[(0,r.FD)("div",{className:"flex justify-between items-center",children:[(0,r.Y)("span",{className:"text-gray-300",children:"Coins per Tap"}),(0,r.FD)("span",{className:"text-white font-semibold",children:["+",s.coinsPerTap]})]}),(0,r.FD)("div",{className:"flex justify-between items-center",children:[(0,r.Y)("span",{className:"text-gray-300",children:"Max Energy"}),(0,r.Y)("span",{className:"text-white font-semibold",children:s.maxEnergy})]}),(0,r.FD)("div",{className:"flex justify-between items-center",children:[(0,r.Y)("span",{className:"text-gray-300",children:"Current Energy"}),(0,r.Y)("span",{className:"text-white font-semibold",children:s.energy})]}),(0,r.FD)("div",{className:"flex justify-between items-center",children:[(0,r.Y)("span",{className:"text-gray-300",children:"Task Completion"}),(0,r.FD)("span",{className:"text-white font-semibold",children:[c.toFixed(1),"%"]})]})]})]}),(0,r.FD)(B,{className:"bg-black/20 border-white/10",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(ea.A,{className:"w-5 h-5"}),"Achievements (",m.length,"/",d.length,")"]})}),(0,r.Y)(M,{children:(0,r.Y)("div",{className:"grid grid-cols-1 gap-3",children:d.map(e=>{let t=e.icon;return(0,r.FD)("div",{className:"flex items-center gap-3 p-3 rounded-lg border ".concat(e.earned?"bg-green-500/10 border-green-500/30":"bg-gray-500/10 border-gray-500/30"),children:[(0,r.Y)(t,{className:"w-6 h-6 ".concat(e.earned?"text-green-400":"text-gray-500")}),(0,r.FD)("div",{className:"flex-1",children:[(0,r.Y)("div",{className:"font-semibold ".concat(e.earned?"text-white":"text-gray-400"),children:e.name}),(0,r.Y)("div",{className:"text-sm text-gray-400",children:e.description})]}),e.earned&&(0,r.Y)(R,{variant:"outline",className:"text-green-400 border-green-400",children:"Earned"})]},e.id)})})})]}),(0,r.FD)(B,{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border-yellow-400/30",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(I.A,{className:"w-5 h-5"}),"Token Trading"]})}),(0,r.Y)(M,{children:(0,r.FD)("div",{className:"text-center space-y-2",children:[(0,r.Y)("p",{className:"text-gray-300 text-sm",children:"Your Keze coins will be convertible to tradeable tokens when we list on exchanges!"}),(0,r.FD)("div",{className:"text-2xl font-bold text-yellow-400",children:[s.coins.toLocaleString()," KEZE Ready"]}),(0,r.Y)(R,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:"Exchange Listing Coming Soon"})]})})]})]})}var en=a(8531),ei=a(4601),ec=a(7374),eo=a(8390);function ed(){let{state:e,dispatch:t}=p(),[a,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[c,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)(null),[h,g]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),b=async r=>{if(!(e.coins<r)&&!a){if(l(!0),m(null),window.triggerHaptic&&window.triggerHaptic("medium"),e.userId)try{let a=await fetch("".concat("https://keze.bissols.com/api","/game/spin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e.userId,stake:r})});if(a.ok){let e=await a.json();t({type:"LOAD_GAME",state:{coins:e.coins,tonCoins:e.tonCoins}}),m(e.result),l(!1);return}}catch(e){console.log("Backend unavailable, using local game logic")}setTimeout(()=>{let e=Math.random(),a={coins:0,tonCoins:0};e<.02?a={coins:10*r,tonCoins:Math.floor(r/1e3)}:e<.1?a={coins:5*r,tonCoins:0}:e<.3?a={coins:2*r,tonCoins:0}:e<.5?a={coins:Math.floor(1.5*r),tonCoins:0}:e<.7&&(a={coins:r,tonCoins:0}),t({type:"SPIN_WHEEL",stake:r,result:a}),m(a),l(!1)},3e3)}},w=async a=>{e.coins<a||n||(i(!0),g(null),setTimeout(()=>{let e={coins:0,found:!1};.4>Math.random()&&(e={coins:a*(.1>Math.random()?10:.3>Math.random()?5:3),found:!0}),t({type:"TREASURE_HUNT",stake:a,result:e}),g(e),i(!1)},2e3))},Y=async(a,r)=>{e.coins<a||c||(o(!0),x(null),setTimeout(()=>{let e=.5>Math.random()?"heads":"tails",s=e===r,l={coins:s?2*a:0,won:s,flip:e,guess:r};t({type:"COIN_FLIP",stake:a,result:l}),x(l),o(!1)},2e3))},D=[100,500,1e3,5e3,1e4];return(0,r.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"\uD83C\uDFAE Games"}),(0,r.Y)("p",{className:"text-gray-300",children:"Stake your Keze coins to win big!"}),(0,r.FD)("div",{className:"flex items-center justify-center gap-2 mt-3",children:[(0,r.Y)(I.A,{className:"w-5 h-5 text-yellow-400"}),(0,r.FD)("span",{className:"text-lg font-bold text-yellow-400",children:[e.coins.toLocaleString()," KEZE"]})]})]}),(0,r.FD)(f,{defaultValue:"spinner",className:"w-full",children:[(0,r.FD)(y,{className:"w-full bg-black/20 grid grid-cols-3 gap-1",children:[(0,r.Y)(N,{value:"spinner",className:"text-xs",children:"\uD83C\uDFB0 Spinner"}),(0,r.Y)(N,{value:"treasure",className:"text-xs",children:"\uD83D\uDCE6 Treasure"}),(0,r.Y)(N,{value:"coinflip",className:"text-xs",children:"\uD83E\uDE99 Flip"})]}),(0,r.Y)(v,{value:"spinner",className:"space-y-4",children:(0,r.FD)(B,{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border-purple-400/30",children:[(0,r.FD)(P,{children:[(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(en.A,{className:"w-5 h-5"}),"Keze Spinner"]}),(0,r.Y)("p",{className:"text-gray-300 text-sm",children:"Spin the wheel to win Keze coins and rare TON coins!"})]}),(0,r.FD)(M,{className:"space-y-4",children:[(0,r.FD)("div",{className:"relative mx-auto w-40 h-40 mb-6",children:[(0,r.Y)("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-yellow-400 via-red-500 to-purple-600 border-4 border-white shadow-lg ".concat(a?"animate-spin":""),children:(0,r.Y)("div",{className:"absolute inset-4 rounded-full bg-black/20 flex items-center justify-center",children:(0,r.Y)(ei.A,{className:"w-8 h-8 text-white"})})}),(0,r.Y)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:(0,r.Y)("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-white"})})]}),(0,r.Y)("div",{className:"grid grid-cols-3 gap-2",children:D.slice(0,3).map(t=>(0,r.Y)(A,{onClick:()=>b(t),disabled:e.coins<t||a,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:t.toLocaleString()},t))}),d&&(0,r.Y)("div",{className:"text-center p-4 bg-black/20 rounded-lg",children:d.tonCoins>0?(0,r.FD)("div",{className:"text-blue-400 font-bold",children:["\uD83C\uDF89 JACKPOT! +",d.coins.toLocaleString()," KEZE + ",d.tonCoins," TON!"]}):d.coins>0?(0,r.FD)("div",{className:"text-green-400 font-bold",children:["\uD83C\uDF8A Won ",d.coins.toLocaleString()," KEZE!"]}):(0,r.Y)("div",{className:"text-red-400",children:"\uD83D\uDC94 Better luck next time!"})}),(0,r.Y)("div",{className:"text-xs text-gray-400 text-center",children:"Chances: 2% TON coins  8% Big Win (5x)  20% Good Win (2x)  30% Loss"})]})]})}),(0,r.Y)(v,{value:"treasure",className:"space-y-4",children:(0,r.FD)(B,{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border-yellow-400/30",children:[(0,r.FD)(P,{children:[(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(ec.A,{className:"w-5 h-5"}),"Treasure Hunt"]}),(0,r.Y)("p",{className:"text-gray-300 text-sm",children:"Click the treasure boxes to find hidden Keze coins!"})]}),(0,r.FD)(M,{className:"space-y-4",children:[(0,r.Y)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[1,2,3,4,5,6].map(e=>(0,r.Y)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-b from-yellow-500 to-yellow-700 rounded-lg border-2 border-yellow-400 flex items-center justify-center cursor-pointer hover:scale-105 transition-transform shadow-lg",children:(0,r.Y)(J.A,{className:"w-8 h-8 text-white"})},e))}),(0,r.Y)("div",{className:"grid grid-cols-3 gap-2",children:D.slice(0,3).map(t=>(0,r.Y)(A,{onClick:()=>w(t),disabled:e.coins<t||n,className:"bg-yellow-600 hover:bg-yellow-700 disabled:opacity-50",children:t.toLocaleString()},t))}),h&&(0,r.Y)("div",{className:"text-center p-4 bg-black/20 rounded-lg",children:h.found?(0,r.FD)("div",{className:"text-green-400 font-bold",children:["\uD83C\uDFC6 Treasure found! +",h.coins.toLocaleString()," KEZE!"]}):(0,r.Y)("div",{className:"text-red-400",children:"\uD83D\uDE1E No treasure this time!"})}),(0,r.Y)("div",{className:"text-xs text-gray-400 text-center",children:"40% chance to find treasure  Rewards: 3x-10x your stake"})]})]})}),(0,r.Y)(v,{value:"coinflip",className:"space-y-4",children:(0,r.FD)(B,{className:"bg-gradient-to-r from-blue-600/20 to-cyan-600/20 border-blue-400/30",children:[(0,r.FD)(P,{children:[(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(eo.A,{className:"w-5 h-5"}),"Coin Flip"]}),(0,r.Y)("p",{className:"text-gray-300 text-sm",children:"Choose heads or tails and double your Keze coins!"})]}),(0,r.FD)(M,{className:"space-y-4",children:[(0,r.Y)("div",{className:"relative mx-auto w-32 h-32 mb-6",children:(0,r.Y)("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600 border-4 border-yellow-300 shadow-lg flex items-center justify-center ".concat(c?"animate-spin":""),children:(0,r.Y)(I.A,{className:"w-12 h-12 text-white"})})}),(0,r.FD)("div",{className:"text-center mb-4",children:[(0,r.Y)("p",{className:"text-white font-semibold mb-2",children:"Choose your stake:"}),(0,r.Y)("div",{className:"grid grid-cols-2 gap-2",children:D.slice(0,4).map(t=>(0,r.FD)("div",{className:"space-y-2",children:[(0,r.FD)("div",{className:"text-yellow-400 font-bold",children:[t.toLocaleString()," KEZE"]}),(0,r.FD)("div",{className:"grid grid-cols-2 gap-1",children:[(0,r.Y)(A,{onClick:()=>Y(t,"heads"),disabled:e.coins<t||c,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-xs",children:"Heads"}),(0,r.Y)(A,{onClick:()=>Y(t,"tails"),disabled:e.coins<t||c,className:"bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 text-xs",children:"Tails"})]})]},t))})]}),u&&(0,r.FD)("div",{className:"text-center p-4 bg-black/20 rounded-lg",children:[(0,r.FD)("div",{className:"mb-2",children:[(0,r.Y)("span",{className:"text-gray-300",children:"Coin landed on: "}),(0,r.Y)("span",{className:"font-bold text-white",children:u.flip})]}),(0,r.FD)("div",{className:"mb-2",children:[(0,r.Y)("span",{className:"text-gray-300",children:"You chose: "}),(0,r.Y)("span",{className:"font-bold text-white",children:u.guess})]}),u.won?(0,r.FD)("div",{className:"text-green-400 font-bold",children:["\uD83C\uDF89 You won! +",u.coins.toLocaleString()," KEZE!"]}):(0,r.Y)("div",{className:"text-red-400",children:"\uD83D\uDE14 You lost! Better luck next time!"})]}),(0,r.Y)("div",{className:"text-xs text-gray-400 text-center",children:"50% chance to win  Double your stake if you guess correctly"})]})]})})]}),(0,r.FD)(B,{className:"bg-black/20 border-white/10",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(T.A,{className:"w-5 h-5"}),"Gaming Stats"]})}),(0,r.FD)(M,{className:"grid grid-cols-2 gap-4",children:[(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("div",{className:"text-xl font-bold text-yellow-400",children:e.coins.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"Available KEZE"})]}),(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("div",{className:"text-xl font-bold text-blue-400",children:e.tonCoins.toLocaleString()}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:"TON Coins"})]})]})]}),e.coins<100&&(0,r.Y)(B,{className:"bg-red-500/10 border-red-500/30",children:(0,r.Y)(M,{className:"p-4 text-center",children:(0,r.Y)("p",{className:"text-red-400 text-sm",children:"You need at least 100 KEZE coins to play games. Go tap to earn more!"})})})]})}var em=a(5903),eh=a(9099),ep=a(4815);function eg(){let{state:e,dispatch:t}=p(),a=[{id:"tapPower",title:"2x Tap Power",description:"Double your coins per tap",icon:T.A,cost:1e3,duration:30,multiplier:2,color:"text-green-400"},{id:"energy",title:"2x Energy Regen",description:"Regenerate energy twice as fast",icon:em.A,cost:800,duration:60,multiplier:2,color:"text-blue-400"},{id:"xp",title:"2x Experience",description:"Gain double XP from all actions",icon:er.A,cost:1200,duration:45,multiplier:2,color:"text-purple-400"},{id:"level",title:"Level Boost",description:"Temporary level increase benefits",icon:L.A,cost:1500,duration:20,multiplier:2,color:"text-yellow-400"}],l=(a,r,s)=>{e.coins>=r&&(t({type:"ACTIVATE_BOOST",boostType:a,cost:r,duration:s}),window.triggerHaptic&&window.triggerHaptic("medium"))},n=e=>{let t=Math.max(0,e-Date.now());if(0===t)return"";let a=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return"".concat(a,":").concat(r.toString().padStart(2,"0"))},i=t=>{let a=Date.now();switch(t){case"tapPower":return a<e.boosts.tapPowerBoostExpiry;case"energy":return a<e.boosts.energyBoostExpiry;case"xp":return a<e.boosts.xpBoostExpiry;case"level":return a<e.boosts.levelBoostExpiry;default:return!1}},c=t=>{switch(t){case"tapPower":return e.boosts.tapPowerBoostExpiry;case"energy":return e.boosts.energyBoostExpiry;case"xp":return e.boosts.xpBoostExpiry;case"level":return e.boosts.levelBoostExpiry;default:return 0}};return s.useEffect(()=>{let e=setInterval(()=>{t({type:"CHECK_BOOST_EXPIRY"})},1e3);return()=>clearInterval(e)},[t]),(0,r.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:" Boosts"}),(0,r.Y)("p",{className:"text-gray-300",children:"Enhance your gameplay with powerful temporary boosts!"}),(0,r.FD)("div",{className:"flex items-center justify-center gap-2 mt-3",children:[(0,r.Y)(I.A,{className:"w-5 h-5 text-yellow-400"}),(0,r.FD)("span",{className:"text-lg font-bold text-yellow-400",children:[e.coins.toLocaleString()," KEZE"]})]})]}),(0,r.FD)("div",{className:"space-y-3",children:[(0,r.Y)("h2",{className:"text-xl font-semibold text-white",children:"\uD83D\uDD25 Active Boosts"}),a.some(e=>i(e.id))?(0,r.Y)("div",{className:"grid gap-3",children:a.filter(e=>i(e.id)).map(e=>{let t=e.icon,a=n(c(e.id));return(0,r.Y)(B,{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 border-green-400/30",children:(0,r.Y)(M,{className:"p-4",children:(0,r.FD)("div",{className:"flex items-center justify-between",children:[(0,r.FD)("div",{className:"flex items-center gap-3",children:[(0,r.Y)(t,{className:"w-6 h-6 ".concat(e.color)}),(0,r.FD)("div",{children:[(0,r.Y)("div",{className:"font-semibold text-white",children:e.title}),(0,r.Y)("div",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,r.FD)("div",{className:"text-right",children:[(0,r.Y)(R,{className:"bg-green-600 text-white mb-1",children:"ACTIVE"}),(0,r.FD)("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:[(0,r.Y)(eh.A,{className:"w-3 h-3"}),(0,r.Y)("span",{children:a})]})]})]})})},e.id)})}):(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-6 text-center",children:[(0,r.Y)(L.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,r.Y)("p",{className:"text-gray-400",children:"No active boosts"}),(0,r.Y)("p",{className:"text-gray-500 text-sm",children:"Purchase a boost below to enhance your gameplay!"})]})})]}),(0,r.FD)("div",{className:"space-y-3",children:[(0,r.Y)("h2",{className:"text-xl font-semibold text-white",children:"\uD83D\uDED2 Available Boosts"}),(0,r.Y)("div",{className:"grid gap-4",children:a.map(t=>{let a=t.icon,s=e.coins>=t.cost,n=i(t.id);return(0,r.Y)(B,{className:"bg-black/20 border-white/10",children:(0,r.FD)(M,{className:"p-4",children:[(0,r.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.FD)("div",{className:"flex items-center gap-3",children:[(0,r.Y)(a,{className:"w-6 h-6 ".concat(t.color)}),(0,r.FD)("div",{children:[(0,r.Y)("h3",{className:"font-semibold text-white",children:t.title}),(0,r.Y)("p",{className:"text-sm text-gray-300",children:t.description})]})]}),(0,r.FD)(R,{className:"".concat(t.color.replace("text-","bg-").replace("400","600")," text-white"),children:[t.multiplier,"x"]})]}),(0,r.Y)("div",{className:"flex items-center justify-between mb-3",children:(0,r.FD)("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[(0,r.FD)("div",{className:"flex items-center gap-1",children:[(0,r.Y)(O.A,{className:"w-4 h-4"}),(0,r.FD)("span",{children:[t.duration,"m"]})]}),(0,r.FD)("div",{className:"flex items-center gap-1",children:[(0,r.Y)(I.A,{className:"w-4 h-4 text-yellow-400"}),(0,r.Y)("span",{className:"text-yellow-400",children:t.cost.toLocaleString()})]})]})}),(0,r.Y)(A,{onClick:()=>l(t.id,t.cost,t.duration),disabled:!s||n,className:"w-full ".concat(s&&!n?t.color.replace("text-","bg-").replace("400","600")+" hover:"+t.color.replace("text-","bg-").replace("400","700"):"bg-gray-600"),children:n?(0,r.FD)(r.FK,{children:[(0,r.Y)(eh.A,{className:"w-4 h-4 mr-2"}),"Active"]}):s?(0,r.FD)(r.FK,{children:[(0,r.Y)(ep.A,{className:"w-4 h-4 mr-2"}),"Purchase"]}):"Not Enough Coins"})]})},t.id)})})]}),(0,r.FD)(B,{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border-purple-400/30",children:[(0,r.Y)(P,{children:(0,r.FD)(_,{className:"text-white flex items-center gap-2",children:[(0,r.Y)(er.A,{className:"w-5 h-5"}),"Boost Tips"]})}),(0,r.FD)(M,{className:"space-y-2 text-sm text-gray-300",children:[(0,r.Y)("p",{children:" Stack multiple boosts for maximum efficiency"}),(0,r.Y)("p",{children:" Use Tap Power boost during active gaming sessions"}),(0,r.Y)("p",{children:" Energy boost is great for long grinding sessions"}),(0,r.Y)("p",{children:" XP boost helps you level up faster for better rewards"}),(0,r.Y)("p",{children:" Boosts remain active even when you're offline!"})]})]}),e.coins<800&&(0,r.Y)(B,{className:"bg-red-500/10 border-red-500/30",children:(0,r.Y)(M,{className:"p-4 text-center",children:(0,r.Y)("p",{className:"text-red-400 text-sm",children:"\uD83D\uDCA1 Need more coins? Tap more, complete tasks, or play games to earn KEZE coins!"})})})]})}function eu(){let[e,t]=(0,s.useState)("tap"),{state:a}=p();return s.useEffect(()=>{let e=()=>{console.log("Navigate to games event received"),t("games")},a=()=>{console.log("Navigate to boosts event received"),t("boosts")};return window.addEventListener("navigate-to-games",e),window.addEventListener("navigate-to-boosts",a),()=>{window.removeEventListener("navigate-to-games",e),window.removeEventListener("navigate-to-boosts",a)}},[]),(0,r.FD)("div",{className:"max-w-md mx-auto min-h-screen bg-gradient-to-b from-blue-900 via-purple-900 to-indigo-900 text-white",children:[(0,r.FD)("div",{className:"p-4 text-center border-b border-white/10",children:[(0,r.FD)("div",{className:"flex items-center justify-center gap-4 mb-2",children:[(0,r.FD)("div",{className:"flex items-center gap-2",children:[(0,r.Y)(I.A,{className:"w-6 h-6 text-yellow-400"}),(0,r.Y)("span",{className:"text-xl font-bold text-yellow-400",children:a.coins.toLocaleString()}),(0,r.Y)("span",{className:"text-sm text-yellow-300",children:"KEZE"})]}),a.tonCoins>0&&(0,r.FD)("div",{className:"flex items-center gap-2",children:[(0,r.Y)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"T"}),(0,r.Y)("span",{className:"text-xl font-bold text-blue-400",children:a.tonCoins.toLocaleString()}),(0,r.Y)("span",{className:"text-sm text-blue-300",children:"TON"})]})]}),(0,r.FD)("div",{className:"flex items-center justify-center gap-4 text-sm",children:[(0,r.FD)("div",{className:"flex items-center gap-1",children:[(0,r.Y)(L.A,{className:"w-4 h-4 text-blue-400"}),(0,r.FD)("span",{children:[a.energy,"/",a.maxEnergy]})]}),(0,r.FD)("div",{className:"text-purple-300",children:["Level ",a.level]})]})]}),(0,r.FD)(f,{value:e,onValueChange:t,className:"flex-1",children:[(0,r.FD)("div",{className:"flex-1 pb-20",children:[(0,r.Y)(v,{value:"tap",className:"mt-0",children:(0,r.Y)(j,{})}),(0,r.Y)(v,{value:"games",className:"mt-0",children:(0,r.Y)(ed,{})}),(0,r.Y)(v,{value:"boosts",className:"mt-0",children:(0,r.Y)(eg,{})}),(0,r.Y)(v,{value:"tasks",className:"mt-0",children:(0,r.Y)(q,{})}),(0,r.Y)(v,{value:"friends",className:"mt-0",children:(0,r.Y)(ee,{})}),(0,r.Y)(v,{value:"profile",className:"mt-0",children:(0,r.Y)(el,{})})]}),(0,r.Y)("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-black/20 backdrop-blur-md border-t border-white/10",children:(0,r.FD)(y,{className:"w-full h-16 bg-transparent grid grid-cols-4 gap-0",children:[(0,r.FD)(N,{value:"tap",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,r.Y)(et.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-xs",children:"Tap"})]}),(0,r.FD)(N,{value:"tasks",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white relative",children:[(0,r.Y)(et.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-xs",children:"Tasks"}),a.tasks.some(e=>e.completed&&e.id.includes("daily"))&&(0,r.Y)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),(0,r.FD)(N,{value:"friends",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,r.Y)(K.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-xs",children:"Friends"})]}),(0,r.FD)(N,{value:"profile",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,r.Y)(es.A,{className:"w-4 h-4"}),(0,r.Y)("span",{className:"text-xs",children:"Profile"})]})]})})]})]})}function ex(){return(0,r.Y)(h,{children:(0,r.Y)("div",{className:"min-h-screen bg-gradient-to-b from-blue-900 via-purple-900 to-indigo-900",children:(0,r.Y)(eu,{})})})}},9431:(e,t,a)=>{Promise.resolve().then(a.bind(a,7237))}},e=>{var t=t=>e(e.s=t);e.O(0,[853,423,441,684,358],()=>t(9431)),_N_E=e.O()}]);