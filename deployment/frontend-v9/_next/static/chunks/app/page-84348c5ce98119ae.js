(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7237:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>em});var s=a(5853),r=a(2115);let l={coins:0,tonCoins:0,level:1,experience:0,experienceToNext:1e3,tapsCount:0,coinsPerTap:1,energy:1e3,maxEnergy:1e3,referralCode:Math.random().toString(36).substring(2,8).toUpperCase(),dailyStreak:0,lastLoginDate:"",totalEarnings:0,boosts:{tapPowerBoost:1,energyBoost:1,xpBoost:1,levelBoost:1,tapPowerBoostExpiry:0,energyBoostExpiry:0,xpBoostExpiry:0,levelBoostExpiry:0},tasks:[{id:"daily-tap-100",title:"Daily Tapper",description:"Tap 100 times today",reward:500,completed:!1,type:"daily",requirement:100,progress:0},{id:"daily-energy",title:"Energy Saver",description:"Use all your energy today",reward:300,completed:!1,type:"daily",requirement:1e3,progress:0},{id:"social-follow",title:"Follow Us",description:"Follow our Telegram channel",reward:1e3,completed:!1,type:"social"},{id:"achievement-level-5",title:"Level Up Champion",description:"Reach level 5",reward:2500,completed:!1,type:"achievement",requirement:5,progress:1},{id:"achievement-10k",title:"Coin Collector",description:"Earn 10,000 Keze coins",reward:5e3,completed:!1,type:"achievement",requirement:1e4,progress:0}],referrals:[]};function i(e,t){switch(t.type){case"TAP":if(e.energy<=0)return e;let a=Date.now(),s=a<e.boosts.tapPowerBoostExpiry?e.boosts.tapPowerBoost:1,r=a<e.boosts.xpBoostExpiry?e.boosts.xpBoost:1,l=Math.floor(e.coinsPerTap*s),i=Math.floor(+r),n=e.coins+l,c=e.experience+i,o=e.tapsCount+1,d=Math.max(0,e.energy-1),m=e.tasks.map(t=>{if("daily-tap-100"===t.id&&!t.completed){let e=Math.min((t.progress||0)+1,t.requirement||100);return{...t,progress:e,completed:e>=(t.requirement||100)}}if("daily-energy"===t.id&&!t.completed){let a=Math.min(e.maxEnergy-d,t.requirement||1e3);return{...t,progress:a,completed:a>=(t.requirement||1e3)}}if("achievement-10k"===t.id&&!t.completed){let e=Math.min(n,t.requirement||1e4);return{...t,progress:e,completed:e>=(t.requirement||1e4)}}return t});return{...e,coins:n,experience:c,tapsCount:o,energy:d,totalEarnings:e.totalEarnings+l,tasks:m};case"COMPLETE_TASK":let h=e.tasks.find(e=>e.id===t.taskId);if(!h||h.completed)return e;return{...e,coins:e.coins+h.reward,totalEarnings:e.totalEarnings+h.reward,tasks:e.tasks.map(e=>e.id===t.taskId?{...e,completed:!0}:e)};case"ADD_REFERRAL":return{...e,referrals:[...e.referrals,t.referral],coins:e.coins+1e3,totalEarnings:e.totalEarnings+1e3};case"LEVEL_UP":let p=e.level+1,x=Math.floor(p/3)+1,g=1e3+(p-1)*100,u=e.tasks.map(e=>{if("achievement-level-5"===e.id&&!e.completed){let t=Math.min(p,e.requirement||5);return{...e,progress:t,completed:t>=(e.requirement||5)}}return e});return{...e,level:p,experience:0,experienceToNext:1e3*p,coinsPerTap:x,maxEnergy:g,energy:g,tasks:u};case"RESTORE_ENERGY":return{...e,energy:e.maxEnergy};case"LOAD_GAME":return{...e,...t.state};case"INIT_TELEGRAM_USER":return{...e,userId:t.userData.userId,username:t.userData.username,firstName:t.userData.firstName,lastName:t.userData.lastName,referralCode:t.userData.userId.toString()};case"SPIN_WHEEL":if(e.coins<t.stake)return e;return{...e,coins:e.coins-t.stake+t.result.coins,tonCoins:e.tonCoins+t.result.tonCoins,totalEarnings:e.totalEarnings+t.result.coins};case"TREASURE_HUNT":if(e.coins<t.stake)return e;return{...e,coins:e.coins-t.stake+t.result.coins,totalEarnings:t.result.found?e.totalEarnings+t.result.coins:e.totalEarnings};case"COIN_FLIP":if(e.coins<t.stake)return e;return{...e,coins:e.coins-t.stake+t.result.coins,totalEarnings:t.result.won?e.totalEarnings+t.result.coins:e.totalEarnings};case"ACTIVATE_BOOST":if(e.coins<t.cost)return e;let b=Date.now()+60*t.duration*1e3,f={...e.boosts};switch(t.boostType){case"tapPower":f.tapPowerBoost=2,f.tapPowerBoostExpiry=b;break;case"energy":f.energyBoost=2,f.energyBoostExpiry=b;break;case"xp":f.xpBoost=2,f.xpBoostExpiry=b;break;case"level":f.levelBoost=2,f.levelBoostExpiry=b}return{...e,coins:e.coins-t.cost,boosts:f};case"CHECK_BOOST_EXPIRY":let N=Date.now(),y={...e.boosts};return N>=y.tapPowerBoostExpiry&&(y.tapPowerBoost=1),N>=y.energyBoostExpiry&&(y.energyBoost=1),N>=y.xpBoostExpiry&&(y.xpBoost=1),N>=y.levelBoostExpiry&&(y.levelBoost=1),{...e,boosts:y};default:return e}}let n=(0,r.createContext)(null);function c(e){let{children:t}=e,[a,c]=(0,r.useReducer)(i,l);return(0,r.useEffect)(()=>{let e=localStorage.getItem("telegram-tap-game");if(e)try{let t=JSON.parse(e);c({type:"LOAD_GAME",state:t})}catch(e){console.error("Failed to load saved game:",e)}},[]),(0,r.useEffect)(()=>{(async()=>{var e,t;if(null==(e=window.Telegram)?void 0:e.WebApp){let e=window.Telegram.WebApp;e.expand(),e.enableClosingConfirmation(),e.MainButton.setText("\uD83C\uDFAE Share Game"),e.MainButton.show(),e.MainButton.onClick(()=>{let t=encodeURIComponent("\uD83E\uDE99 Join me in Keze Tap Game! Earn coins by tapping and playing games!");e.openTelegramLink("https://t.me/share/url?url=".concat(encodeURIComponent(window.location.href),"&text=").concat(t))});let a=null==(t=e.initDataUnsafe)?void 0:t.user;if(a){c({type:"INIT_TELEGRAM_USER",userData:{userId:a.id,username:a.username,firstName:a.first_name,lastName:a.last_name}});try{let e=await fetch("".concat("https://keze.bissols.com/api","/user/").concat(a.id));if(e.ok){let t=await e.json();c({type:"LOAD_GAME",state:t})}}catch(e){console.log("Backend not available, running in offline mode:",e)}}e.themeParams&&(document.documentElement.style.setProperty("--tg-theme-bg-color",e.themeParams.bg_color||"#1a1a2e"),document.documentElement.style.setProperty("--tg-theme-text-color",e.themeParams.text_color||"#ffffff"),document.documentElement.style.setProperty("--tg-theme-button-color",e.themeParams.button_color||"#5288c1")),e.HapticFeedback&&(window.triggerHaptic=t=>{"light"===t&&e.HapticFeedback.impactOccurred("light"),"medium"===t&&e.HapticFeedback.impactOccurred("medium"),"heavy"===t&&e.HapticFeedback.impactOccurred("heavy")})}else console.log("Running in demo mode (not in Telegram)")})()},[]),(0,r.useEffect)(()=>{localStorage.setItem("telegram-tap-game",JSON.stringify(a))},[a]),(0,r.useEffect)(()=>{let e=setInterval(()=>{a.energy<a.maxEnergy&&c({type:"RESTORE_ENERGY"})},6e4);return()=>clearInterval(e)},[a.energy,a.maxEnergy]),(0,r.useEffect)(()=>{a.experience>=a.experienceToNext&&c({type:"LEVEL_UP"})},[a.experience,a.experienceToNext]),(0,s.Y)(n.Provider,{value:{state:a,dispatch:c},children:t})}function o(){let e=(0,r.useContext)(n);if(!e)throw Error("useGame must be used within a GameProvider");return e}var d=a(2731),m=a(2596),h=a(9688);function p(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,h.QP)((0,m.$)(t))}let x=d.bL,g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(d.B8,{ref:t,className:p("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});g.displayName=d.B8.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(d.l9,{ref:t,className:p("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});u.displayName=d.l9.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(d.UC,{ref:t,className:p("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});b.displayName=d.UC.displayName;var f=a(9137),N=a.n(f),y=a(9708),v=a(2085);let w=(0,v.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...n}=e,c=i?y.DX:"button";return(0,s.Y)(c,{className:p(w({variant:r,size:l,className:a})),ref:t,...n})});Y.displayName="Button";var D=a(5863);let F=r.forwardRef((e,t)=>{let{className:a,value:r,...l}=e;return(0,s.Y)(D.bL,{ref:t,className:p("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...l,children:(0,s.Y)(D.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});F.displayName=D.bL.displayName;var E=a(659),k=a(8988),A=a(9829);function C(){let{state:e,dispatch:t}=o(),[a,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(!1),c=async(a,s)=>{if(!(e.energy<a)){if(window.triggerHaptic&&window.triggerHaptic(a>1?"medium":"light"),e.userId)try{let s=await fetch("".concat("https://keze.bissols.com/api","/tap"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e.userId,taps:a})});if(s.ok){let e=await s.json();t({type:"LOAD_GAME",state:e})}else for(let e=0;e<a;e++)t({type:"TAP"})}catch(e){for(let e=0;e<a;e++)t({type:"TAP"})}else for(let e=0;e<a;e++)t({type:"TAP"});s.forEach((e,t)=>{let a={id:"".concat(Math.random().toString(36),"-").concat(t),x:e.x,y:e.y};setTimeout(()=>{l(e=>[...e,a])},50*t),setTimeout(()=>{l(e=>e.filter(e=>e.id!==a.id))},1e3+50*t)})}},d=async t=>{if(e.energy<=0)return;let a=t.currentTarget.getBoundingClientRect(),s=t.clientX-a.left,r=t.clientY-a.top;await c(1,[{x:s,y:r}])},m=async t=>{if(t.preventDefault(),e.energy<=0)return;let a=t.currentTarget.getBoundingClientRect(),s=Array.from(t.touches),r=Math.min(s.length,e.energy,10),l=s.slice(0,r).map(e=>({x:e.clientX-a.left,y:e.clientY-a.top}));await c(r,l)},h=e.energy/e.maxEnergy*100,p=e.experience/e.experienceToNext*100;return(0,s.FD)("div",{className:"jsx-cced9ba193406e56 flex flex-col items-center justify-center min-h-[calc(100vh-140px)] p-6 relative",children:[(0,s.FD)("div",{className:"jsx-cced9ba193406e56 w-full mb-6",children:[(0,s.FD)("div",{className:"jsx-cced9ba193406e56 flex justify-between items-center mb-2",children:[(0,s.FD)("span",{className:"jsx-cced9ba193406e56 text-sm text-purple-300",children:["Level ",e.level]}),(0,s.FD)("span",{className:"jsx-cced9ba193406e56 text-sm text-purple-300",children:[e.experience,"/",e.experienceToNext," XP"]})]}),(0,s.Y)(F,{value:p,className:"h-2 bg-purple-900"})]}),(0,s.FD)("div",{className:"jsx-cced9ba193406e56 flex items-center gap-2 mb-8 bg-black/20 px-4 py-2 rounded-full",children:[(0,s.Y)(E.A,{className:"w-4 h-4 text-green-400"}),(0,s.FD)("span",{className:"jsx-cced9ba193406e56 text-green-400 font-semibold",children:["+",e.coinsPerTap," KEZE per tap"]})]}),(0,s.FD)("div",{className:"jsx-cced9ba193406e56 relative mb-8",children:[(0,s.Y)(Y,{onClick:d,onTouchStart:m,onMouseDown:()=>n(!0),onMouseUp:()=>n(!1),onMouseLeave:()=>n(!1),onTouchEnd:()=>n(!1),disabled:e.energy<=0,className:"\n            w-64 h-64 rounded-full bg-gradient-to-b from-yellow-400 to-orange-500\n            border-8 border-yellow-300 shadow-2xl transition-all duration-100\n            hover:scale-105 active:scale-95 disabled:opacity-50 disabled:scale-100\n            touch-manipulation select-none\n            ".concat(i?"scale-95":"","\n          "),children:(0,s.FD)("div",{className:"jsx-cced9ba193406e56 flex flex-col items-center",children:[(0,s.Y)(k.A,{className:"w-16 h-16 text-white mb-2"}),(0,s.Y)("span",{className:"jsx-cced9ba193406e56 text-white font-bold text-xl",children:"TAP!"})]})}),a.map(t=>(0,s.FD)("div",{style:{left:t.x,top:t.y,animation:"floatUp 1s ease-out forwards"},className:"jsx-cced9ba193406e56 absolute pointer-events-none animate-bounce text-yellow-400 font-bold text-xl",children:["+",e.coinsPerTap," KEZE"]},t.id))]}),(0,s.FD)("div",{className:"jsx-cced9ba193406e56 w-full max-w-sm",children:[(0,s.FD)("div",{className:"jsx-cced9ba193406e56 flex justify-between items-center mb-2",children:[(0,s.FD)("div",{className:"jsx-cced9ba193406e56 flex items-center gap-2",children:[(0,s.Y)(A.A,{className:"w-4 h-4 text-blue-400"}),(0,s.Y)("span",{className:"jsx-cced9ba193406e56 text-sm text-blue-300",children:"Energy"})]}),(0,s.FD)("span",{className:"jsx-cced9ba193406e56 text-sm text-blue-300",children:[e.energy,"/",e.maxEnergy]})]}),(0,s.Y)(F,{value:h,className:"h-3 ".concat(e.energy<=0?"bg-red-900":"bg-blue-900")}),e.energy<=0&&(0,s.Y)("p",{className:"jsx-cced9ba193406e56 text-center text-red-400 text-sm mt-2",children:"Energy depleted! Wait for it to regenerate."}),e.energy>0&&e.energy<.2*e.maxEnergy&&(0,s.Y)("p",{className:"jsx-cced9ba193406e56 text-center text-orange-400 text-sm mt-2",children:"Low energy! Consider taking a break."})]}),(0,s.FD)("div",{className:"jsx-cced9ba193406e56 grid grid-cols-2 gap-4 mt-8 w-full max-w-sm",children:[(0,s.FD)("div",{className:"jsx-cced9ba193406e56 bg-black/20 p-3 rounded-lg text-center",children:[(0,s.Y)("div",{className:"jsx-cced9ba193406e56 text-2xl font-bold text-white",children:e.tapsCount.toLocaleString()}),(0,s.Y)("div",{className:"jsx-cced9ba193406e56 text-sm text-gray-300",children:"Total Taps"})]}),(0,s.FD)("div",{className:"jsx-cced9ba193406e56 bg-black/20 p-3 rounded-lg text-center",children:[(0,s.Y)("div",{className:"jsx-cced9ba193406e56 text-2xl font-bold text-yellow-400",children:e.totalEarnings.toLocaleString()}),(0,s.Y)("div",{className:"jsx-cced9ba193406e56 text-sm text-gray-300",children:"Total Earned"})]})]}),(0,s.Y)(N(),{id:"cced9ba193406e56",children:"@-webkit-keyframes floatUp{0%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-webkit-transform:translatey(-100px);transform:translatey(-100px)}}@-moz-keyframes floatUp{0%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-moz-transform:translatey(-100px);transform:translatey(-100px)}}@-o-keyframes floatUp{0%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-o-transform:translatey(-100px);transform:translatey(-100px)}}@keyframes floatUp{0%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}100%{opacity:0;-webkit-transform:translatey(-100px);-moz-transform:translatey(-100px);-o-transform:translatey(-100px);transform:translatey(-100px)}}"})]})}let T=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)("div",{ref:t,className:p("rounded-xl border bg-card text-card-foreground shadow",a),...r})});T.displayName="Card";let S=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)("div",{ref:t,className:p("flex flex-col space-y-1.5 p-6",a),...r})});S.displayName="CardHeader";let B=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)("div",{ref:t,className:p("font-semibold leading-none tracking-tight",a),...r})});B.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)("div",{ref:t,className:p("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let L=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)("div",{ref:t,className:p("p-6 pt-0",a),...r})});L.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)("div",{ref:t,className:p("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let j=(0,v.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function P(e){let{className:t,variant:a,...r}=e;return(0,s.Y)("div",{className:p(j({variant:a}),t),...r})}var R=a(7648),M=a(286),_=a(5268),I=a(8376),O=a(1840);function K(){let{state:e,dispatch:t}=o(),a=a=>{let s=e.tasks.find(e=>e.id===a);s&&!s.completed&&("social"===s.type?(window.open("https://t.me/your-channel","_blank"),setTimeout(()=>{t({type:"COMPLETE_TASK",taskId:a})},2e3)):t({type:"COMPLETE_TASK",taskId:a}))},r=e=>{switch(e){case"daily":return(0,s.Y)(R.A,{className:"w-5 h-5 text-blue-400"});case"social":return(0,s.Y)(M.A,{className:"w-5 h-5 text-green-400"});case"achievement":return(0,s.Y)(_.A,{className:"w-5 h-5 text-yellow-400"});default:return(0,s.Y)(k.A,{className:"w-5 h-5 text-gray-400"})}},l=e=>{switch(e){case"daily":return"bg-blue-500";case"social":return"bg-green-500";case"achievement":return"bg-yellow-500";default:return"bg-gray-500"}},i=e=>!e.completed&&("social"===e.type||!e.requirement||void 0===e.progress||e.progress>=e.requirement),n=e=>e.requirement&&void 0!==e.progress?Math.min(e.progress/e.requirement*100,100):0,c=e.tasks.filter(e=>"daily"===e.type),d=e.tasks.filter(e=>"social"===e.type),m=e.tasks.filter(e=>"achievement"===e.type);return(0,s.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Tasks"}),(0,s.Y)("p",{className:"text-gray-300",children:"Complete tasks to earn bonus Keze coins!"})]}),(0,s.FD)("div",{children:[(0,s.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,s.Y)(R.A,{className:"w-5 h-5 text-blue-400"}),"Daily Tasks"]}),(0,s.Y)("div",{className:"space-y-3",children:c.map(e=>(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4",children:[(0,s.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.FD)("div",{className:"flex items-center gap-3",children:[r(e.type),(0,s.FD)("div",{children:[(0,s.Y)("h3",{className:"font-semibold text-white",children:e.title}),(0,s.Y)("p",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,s.Y)(P,{className:"".concat(l(e.type)," text-white"),children:e.type})]}),e.requirement&&void 0!==e.progress&&(0,s.FD)("div",{className:"mb-3",children:[(0,s.FD)("div",{className:"flex justify-between text-sm text-gray-300 mb-1",children:[(0,s.Y)("span",{children:"Progress"}),(0,s.FD)("span",{children:[e.progress,"/",e.requirement]})]}),(0,s.Y)(F,{value:n(e),className:"h-2"})]}),(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,s.Y)(k.A,{className:"w-4 h-4"}),(0,s.FD)("span",{className:"font-semibold",children:["+",e.reward]})]}),e.completed?(0,s.FD)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,s.Y)(I.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-sm",children:"Completed"})]}):(0,s.Y)(Y,{onClick:()=>a(e.id),disabled:!i(e),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:i(e)?"Claim":"Not Ready"})]})]})},e.id))})]}),(0,s.FD)("div",{children:[(0,s.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,s.Y)(M.A,{className:"w-5 h-5 text-green-400"}),"Social Tasks"]}),(0,s.Y)("div",{className:"space-y-3",children:d.map(e=>(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4",children:[(0,s.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.FD)("div",{className:"flex items-center gap-3",children:[r(e.type),(0,s.FD)("div",{children:[(0,s.Y)("h3",{className:"font-semibold text-white",children:e.title}),(0,s.Y)("p",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,s.Y)(P,{className:"".concat(l(e.type)," text-white"),children:e.type})]}),(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,s.Y)(k.A,{className:"w-4 h-4"}),(0,s.FD)("span",{className:"font-semibold",children:["+",e.reward]})]}),e.completed?(0,s.FD)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,s.Y)(I.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-sm",children:"Completed"})]}):(0,s.FD)(Y,{onClick:()=>a(e.id),size:"sm",className:"bg-green-600 hover:bg-green-700 flex items-center gap-2",children:[(0,s.Y)(O.A,{className:"w-4 h-4"}),"Visit"]})]})]})},e.id))})]}),(0,s.FD)("div",{children:[(0,s.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,s.Y)(_.A,{className:"w-5 h-5 text-yellow-400"}),"Achievements"]}),(0,s.Y)("div",{className:"space-y-3",children:m.map(e=>(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4",children:[(0,s.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.FD)("div",{className:"flex items-center gap-3",children:[r(e.type),(0,s.FD)("div",{children:[(0,s.Y)("h3",{className:"font-semibold text-white",children:e.title}),(0,s.Y)("p",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,s.Y)(P,{className:"".concat(l(e.type)," text-white"),children:e.type})]}),e.requirement&&void 0!==e.progress&&(0,s.FD)("div",{className:"mb-3",children:[(0,s.FD)("div",{className:"flex justify-between text-sm text-gray-300 mb-1",children:[(0,s.Y)("span",{children:"Progress"}),(0,s.FD)("span",{children:[e.progress,"/",e.requirement]})]}),(0,s.Y)(F,{value:n(e),className:"h-2"})]}),(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,s.Y)(k.A,{className:"w-4 h-4"}),(0,s.FD)("span",{className:"font-semibold",children:["+",e.reward]})]}),e.completed?(0,s.FD)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,s.Y)(I.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-sm",children:"Completed"})]}):(0,s.Y)(Y,{onClick:()=>a(e.id),disabled:!i(e),size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:i(e)?"Claim":"In Progress"})]})]})},e.id))})]})]})}var z=a(4011);let U=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(z.bL,{ref:t,className:p("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});U.displayName=z.bL.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(z._V,{ref:t,className:p("aspect-square h-full w-full",a),...r})}).displayName=z._V.displayName;let H=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.Y)(z.H4,{ref:t,className:p("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});H.displayName=z.H4.displayName;var G=a(2160),q=a(5599),Z=a(33);function V(){let{state:e,dispatch:t}=o(),[a,l]=(0,r.useState)(!1),i="https://t.me/kezeBot?start=".concat(e.referralCode),n="\uD83E\uDE99 Join me in Keze Tap Game! Earn KEZE coins by tapping and playing games. Use my referral code: ".concat(e.referralCode),c=async()=>{try{await navigator.clipboard.writeText(e.referralCode),l(!0),setTimeout(()=>l(!1),2e3),window.triggerHaptic&&window.triggerHaptic("light")}catch(e){console.error("Failed to copy:",e)}},d=async()=>{try{await navigator.clipboard.writeText(i),l(!0),setTimeout(()=>l(!1),2e3),window.triggerHaptic&&window.triggerHaptic("light")}catch(e){console.error("Failed to copy:",e)}},m=()=>{try{var e,t;let a="https://t.me/share/url?url=".concat(encodeURIComponent(i),"&text=").concat(encodeURIComponent(n));(null==(t=window.Telegram)||null==(e=t.WebApp)?void 0:e.openTelegramLink)?window.Telegram.WebApp.openTelegramLink(a):window.open(a,"_blank")}catch(e){console.error("Failed to share:",e),navigator.clipboard.writeText(i),l(!0),setTimeout(()=>l(!1),2e3)}},h=r.useMemo(()=>{try{if(!e.referrals||!Array.isArray(e.referrals))return 0;return e.referrals.reduce((e,t)=>{let a="number"==typeof(null==t?void 0:t.earnings)?t.earnings:0;return e+a},0)}catch(e){return console.error("Error calculating referral earnings:",e),0}},[e.referrals]);return(0,s.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Friends"}),(0,s.Y)("p",{className:"text-gray-300",children:"Invite friends and earn bonus Keze coins!"})]}),(0,s.FD)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4 text-center",children:[(0,s.Y)(M.A,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,s.Y)("div",{className:"text-2xl font-bold text-white",children:e.referrals.length}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Friends Invited"})]})}),(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4 text-center",children:[(0,s.Y)(k.A,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),(0,s.Y)("div",{className:"text-2xl font-bold text-yellow-400",children:h.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Bonus Earned"})]})})]}),(0,s.FD)(T,{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 border-purple-400/30",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(G.A,{className:"w-5 h-5"}),"Referral Rewards"]})}),(0,s.FD)(L,{className:"space-y-3",children:[(0,s.FD)("div",{className:"flex items-center justify-between p-3 bg-black/20 rounded-lg",children:[(0,s.FD)("div",{children:[(0,s.Y)("div",{className:"text-white font-semibold",children:"Invite a Friend"}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Both you and your friend get bonus Keze coins"})]}),(0,s.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,s.Y)(k.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"font-bold",children:"+1,000"})]})]}),(0,s.FD)("div",{className:"flex items-center justify-between p-3 bg-black/20 rounded-lg",children:[(0,s.FD)("div",{children:[(0,s.Y)("div",{className:"text-white font-semibold",children:"Friend Earns 10K+"}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Additional bonus when your friend succeeds"})]}),(0,s.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,s.Y)(k.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"font-bold",children:"+2,500"})]})]})]})]}),(0,s.FD)(T,{className:"bg-black/20 border-white/10",children:[(0,s.Y)(S,{children:(0,s.Y)(B,{className:"text-white",children:"Your Referral Code"})}),(0,s.FD)(L,{className:"space-y-4",children:[(0,s.FD)("div",{className:"flex items-center justify-between p-3 bg-black/30 rounded-lg",children:[(0,s.Y)("span",{className:"text-xl font-mono text-yellow-400",children:e.referralCode}),(0,s.Y)(Y,{onClick:c,size:"sm",variant:"outline",className:"border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black",children:a?(0,s.Y)(I.A,{className:"w-4 h-4"}):(0,s.Y)(q.A,{className:"w-4 h-4"})})]}),(0,s.FD)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.FD)(Y,{onClick:d,variant:"outline",className:"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-black",children:[(0,s.Y)(q.A,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),(0,s.FD)(Y,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:[(0,s.Y)(Z.A,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})]}),(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.Y)(L,{className:"p-4",children:(0,s.FD)(Y,{onClick:()=>{t({type:"ADD_REFERRAL",referral:{id:Math.random().toString(36),username:"User".concat(Math.floor(9999*Math.random())),earnings:Math.floor(5e3*Math.random())+1e3,joinedAt:new Date}})},className:"w-full bg-green-600 hover:bg-green-700",children:[(0,s.Y)(M.A,{className:"w-4 h-4 mr-2"}),"Simulate Friend Invite (Demo)"]})})}),e.referrals.length>0&&(0,s.FD)("div",{children:[(0,s.FD)("h2",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[(0,s.Y)(M.A,{className:"w-5 h-5"}),"Your Friends (",e.referrals.length,")"]}),(0,s.Y)("div",{className:"space-y-3",children:e.referrals.map(e=>(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.Y)(L,{className:"p-4",children:(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center gap-3",children:[(0,s.Y)(U,{className:"w-10 h-10",children:(0,s.Y)(H,{className:"bg-purple-600 text-white",children:e.username.charAt(0).toUpperCase()})}),(0,s.FD)("div",{children:[(0,s.Y)("div",{className:"font-semibold text-white",children:e.username}),(0,s.FD)("div",{className:"text-sm text-gray-300",children:["Joined ",e.joinedAt.toLocaleDateString()]})]})]}),(0,s.FD)("div",{className:"text-right",children:[(0,s.FD)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,s.Y)(k.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"font-semibold",children:e.earnings.toLocaleString()})]}),(0,s.Y)(P,{variant:"outline",className:"text-green-400 border-green-400 text-xs",children:"Active"})]})]})})},e.id))})]}),0===e.referrals.length&&(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-8 text-center",children:[(0,s.Y)(M.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.Y)("h3",{className:"text-white font-semibold mb-2",children:"No friends yet"}),(0,s.Y)("p",{className:"text-gray-300 text-sm mb-4",children:"Start inviting friends to earn bonus coins and build your network!"}),(0,s.FD)(Y,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:[(0,s.Y)(Z.A,{className:"w-4 h-4 mr-2"}),"Invite Your First Friend"]})]})})]})}var W=a(1203),X=a(1467),J=a(462),Q=a(1721);function $(){var e;let{state:t}=o(),a=t.experience/t.experienceToNext*100,r=t.tasks.filter(e=>e.completed).length,l=t.tasks.length,i=r/l*100,n=(e=t.totalEarnings)>=1e5?{name:"Diamond",color:"text-cyan-400",bg:"bg-cyan-600"}:e>=5e4?{name:"Platinum",color:"text-gray-300",bg:"bg-gray-600"}:e>=25e3?{name:"Gold",color:"text-yellow-400",bg:"bg-yellow-600"}:e>=1e4?{name:"Silver",color:"text-gray-400",bg:"bg-gray-500"}:{name:"Bronze",color:"text-orange-400",bg:"bg-orange-600"},c=[{id:"first-tap",name:"First Tap",description:"Made your first tap",earned:t.tapsCount>0,icon:W.A},{id:"hundred-taps",name:"Tap Master",description:"Made 100 taps",earned:t.tapsCount>=100,icon:W.A},{id:"thousand-taps",name:"Tap Champion",description:"Made 1,000 taps",earned:t.tapsCount>=1e3,icon:X.A},{id:"level-5",name:"Rising Star",description:"Reached level 5",earned:t.level>=5,icon:J.A},{id:"first-friend",name:"Social Butterfly",description:"Invited first friend",earned:t.referrals.length>0,icon:M.A},{id:"task-master",name:"Task Master",description:"Completed 5 tasks",earned:r>=5,icon:_.A}],d=c.filter(e=>e.earned);return(0,s.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,s.Y)(T,{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 border-purple-400/30",children:(0,s.FD)(L,{className:"p-6",children:[(0,s.FD)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.Y)(U,{className:"w-16 h-16",children:(0,s.Y)(H,{className:"bg-purple-600 text-white text-xl",children:(0,s.Y)(Q.A,{className:"w-8 h-8"})})}),(0,s.FD)("div",{children:[(0,s.FD)("h1",{className:"text-2xl font-bold text-white",children:["Player #",t.referralCode]}),(0,s.FD)(P,{className:"".concat(n.bg," text-white"),children:[n.name," Tier"]})]})]}),(0,s.FD)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("div",{className:"text-xl font-bold text-yellow-400",children:t.coins.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Keze Coins"})]}),(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("div",{className:"text-xl font-bold text-blue-400",children:t.tonCoins.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"TON Coins"})]}),(0,s.FD)("div",{className:"text-center",children:[(0,s.FD)("div",{className:"text-xl font-bold text-purple-400",children:["Level ",t.level]}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Current Level"})]})]})]})}),(0,s.FD)(T,{className:"bg-black/20 border-white/10",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(E.A,{className:"w-5 h-5"}),"Level Progress"]})}),(0,s.Y)(L,{children:(0,s.FD)("div",{className:"space-y-2",children:[(0,s.FD)("div",{className:"flex justify-between text-sm",children:[(0,s.FD)("span",{className:"text-gray-300",children:["Level ",t.level]}),(0,s.FD)("span",{className:"text-gray-300",children:["Level ",t.level+1]})]}),(0,s.Y)(F,{value:a,className:"h-3"}),(0,s.FD)("div",{className:"text-center text-sm text-gray-300",children:[t.experience.toLocaleString()," / ",t.experienceToNext.toLocaleString()," XP"]})]})})]}),(0,s.FD)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4 text-center",children:[(0,s.Y)(W.A,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,s.Y)("div",{className:"text-xl font-bold text-white",children:t.tapsCount.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Total Taps"})]})}),(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4 text-center",children:[(0,s.Y)(k.A,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),(0,s.Y)("div",{className:"text-xl font-bold text-yellow-400",children:t.totalEarnings.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Total Earned"})]})}),(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4 text-center",children:[(0,s.Y)(M.A,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),(0,s.Y)("div",{className:"text-xl font-bold text-white",children:t.referrals.length}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Friends Invited"})]})}),(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4 text-center",children:[(0,s.Y)(_.A,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),(0,s.FD)("div",{className:"text-xl font-bold text-white",children:[r,"/",l]}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Tasks Completed"})]})})]}),(0,s.FD)(T,{className:"bg-black/20 border-white/10",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(A.A,{className:"w-5 h-5"}),"Game Stats"]})}),(0,s.FD)(L,{className:"space-y-4",children:[(0,s.FD)("div",{className:"flex justify-between items-center",children:[(0,s.Y)("span",{className:"text-gray-300",children:"Coins per Tap"}),(0,s.FD)("span",{className:"text-white font-semibold",children:["+",t.coinsPerTap]})]}),(0,s.FD)("div",{className:"flex justify-between items-center",children:[(0,s.Y)("span",{className:"text-gray-300",children:"Max Energy"}),(0,s.Y)("span",{className:"text-white font-semibold",children:t.maxEnergy})]}),(0,s.FD)("div",{className:"flex justify-between items-center",children:[(0,s.Y)("span",{className:"text-gray-300",children:"Current Energy"}),(0,s.Y)("span",{className:"text-white font-semibold",children:t.energy})]}),(0,s.FD)("div",{className:"flex justify-between items-center",children:[(0,s.Y)("span",{className:"text-gray-300",children:"Task Completion"}),(0,s.FD)("span",{className:"text-white font-semibold",children:[i.toFixed(1),"%"]})]})]})]}),(0,s.FD)(T,{className:"bg-black/20 border-white/10",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(X.A,{className:"w-5 h-5"}),"Achievements (",d.length,"/",c.length,")"]})}),(0,s.Y)(L,{children:(0,s.Y)("div",{className:"grid grid-cols-1 gap-3",children:c.map(e=>{let t=e.icon;return(0,s.FD)("div",{className:"flex items-center gap-3 p-3 rounded-lg border ".concat(e.earned?"bg-green-500/10 border-green-500/30":"bg-gray-500/10 border-gray-500/30"),children:[(0,s.Y)(t,{className:"w-6 h-6 ".concat(e.earned?"text-green-400":"text-gray-500")}),(0,s.FD)("div",{className:"flex-1",children:[(0,s.Y)("div",{className:"font-semibold ".concat(e.earned?"text-white":"text-gray-400"),children:e.name}),(0,s.Y)("div",{className:"text-sm text-gray-400",children:e.description})]}),e.earned&&(0,s.Y)(P,{variant:"outline",className:"text-green-400 border-green-400",children:"Earned"})]},e.id)})})})]}),(0,s.FD)(T,{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border-yellow-400/30",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(k.A,{className:"w-5 h-5"}),"Token Trading"]})}),(0,s.Y)(L,{children:(0,s.FD)("div",{className:"text-center space-y-2",children:[(0,s.Y)("p",{className:"text-gray-300 text-sm",children:"Your Keze coins will be convertible to tradeable tokens when we list on exchanges!"}),(0,s.FD)("div",{className:"text-2xl font-bold text-yellow-400",children:[t.coins.toLocaleString()," KEZE Ready"]}),(0,s.Y)(P,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:"Exchange Listing Coming Soon"})]})})]})]})}var ee=a(8531),et=a(4601),ea=a(7374),es=a(8390);function er(){let{state:e,dispatch:t}=o(),[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),[N,y]=(0,r.useState)(null),v=async s=>{if(!(e.coins<s)&&!a){if(l(!0),h(null),window.triggerHaptic&&window.triggerHaptic("medium"),e.userId)try{let a=await fetch("".concat("https://keze.bissols.com/api","/game/spin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e.userId,stake:s})});if(a.ok){let e=await a.json();t({type:"LOAD_GAME",state:{coins:e.coins,tonCoins:e.tonCoins}}),h(e.result),l(!1);return}}catch(e){console.log("Backend unavailable, using local game logic")}setTimeout(()=>{let e=Math.random(),a={coins:0,tonCoins:0};e<.02?a={coins:10*s,tonCoins:Math.floor(s/1e3)}:e<.1?a={coins:5*s,tonCoins:0}:e<.3?a={coins:2*s,tonCoins:0}:e<.5?a={coins:Math.floor(1.5*s),tonCoins:0}:e<.7&&(a={coins:s,tonCoins:0}),t({type:"SPIN_WHEEL",stake:s,result:a}),h(a),l(!1)},3e3)}},w=async a=>{e.coins<a||i||(n(!0),f(null),setTimeout(()=>{let e={coins:0,found:!1};.4>Math.random()&&(e={coins:a*(.1>Math.random()?10:.3>Math.random()?5:3),found:!0}),t({type:"TREASURE_HUNT",stake:a,result:e}),f(e),n(!1)},2e3))},D=async(a,s)=>{e.coins<a||c||(d(!0),y(null),setTimeout(()=>{let e=.5>Math.random()?"heads":"tails",r=e===s,l={coins:r?2*a:0,won:r,flip:e,guess:s};t({type:"COIN_FLIP",stake:a,result:l}),y(l),d(!1)},2e3))},F=[100,500,1e3,5e3,1e4];return(0,s.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"\uD83C\uDFAE Games"}),(0,s.Y)("p",{className:"text-gray-300",children:"Stake your Keze coins to win big!"}),(0,s.FD)("div",{className:"flex items-center justify-center gap-2 mt-3",children:[(0,s.Y)(k.A,{className:"w-5 h-5 text-yellow-400"}),(0,s.FD)("span",{className:"text-lg font-bold text-yellow-400",children:[e.coins.toLocaleString()," KEZE"]})]})]}),(0,s.FD)(x,{defaultValue:"spinner",className:"w-full",children:[(0,s.FD)(g,{className:"w-full bg-black/20 grid grid-cols-3 gap-1",children:[(0,s.Y)(u,{value:"spinner",className:"text-xs",children:"\uD83C\uDFB0 Spinner"}),(0,s.Y)(u,{value:"treasure",className:"text-xs",children:"\uD83D\uDCE6 Treasure"}),(0,s.Y)(u,{value:"coinflip",className:"text-xs",children:"\uD83E\uDE99 Flip"})]}),(0,s.Y)(b,{value:"spinner",className:"space-y-4",children:(0,s.FD)(T,{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border-purple-400/30",children:[(0,s.FD)(S,{children:[(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(ee.A,{className:"w-5 h-5"}),"Keze Spinner"]}),(0,s.Y)("p",{className:"text-gray-300 text-sm",children:"Spin the wheel to win Keze coins and rare TON coins!"})]}),(0,s.FD)(L,{className:"space-y-4",children:[(0,s.FD)("div",{className:"relative mx-auto w-40 h-40 mb-6",children:[(0,s.Y)("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-yellow-400 via-red-500 to-purple-600 border-4 border-white shadow-lg ".concat(a?"animate-spin":""),children:(0,s.Y)("div",{className:"absolute inset-4 rounded-full bg-black/20 flex items-center justify-center",children:(0,s.Y)(et.A,{className:"w-8 h-8 text-white"})})}),(0,s.Y)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:(0,s.Y)("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-white"})})]}),(0,s.Y)("div",{className:"grid grid-cols-3 gap-2",children:F.slice(0,3).map(t=>(0,s.Y)(Y,{onClick:()=>v(t),disabled:e.coins<t||a,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:t.toLocaleString()},t))}),m&&(0,s.Y)("div",{className:"text-center p-4 bg-black/20 rounded-lg",children:m.tonCoins>0?(0,s.FD)("div",{className:"text-blue-400 font-bold",children:["\uD83C\uDF89 JACKPOT! +",m.coins.toLocaleString()," KEZE + ",m.tonCoins," TON!"]}):m.coins>0?(0,s.FD)("div",{className:"text-green-400 font-bold",children:["\uD83C\uDF8A Won ",m.coins.toLocaleString()," KEZE!"]}):(0,s.Y)("div",{className:"text-red-400",children:"\uD83D\uDC94 Better luck next time!"})}),(0,s.Y)("div",{className:"text-xs text-gray-400 text-center",children:"Chances: 2% TON coins • 8% Big Win (5x) • 20% Good Win (2x) • 30% Loss"})]})]})}),(0,s.Y)(b,{value:"treasure",className:"space-y-4",children:(0,s.FD)(T,{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border-yellow-400/30",children:[(0,s.FD)(S,{children:[(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(ea.A,{className:"w-5 h-5"}),"Treasure Hunt"]}),(0,s.Y)("p",{className:"text-gray-300 text-sm",children:"Click the treasure boxes to find hidden Keze coins!"})]}),(0,s.FD)(L,{className:"space-y-4",children:[(0,s.Y)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[1,2,3,4,5,6].map(e=>(0,s.Y)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-b from-yellow-500 to-yellow-700 rounded-lg border-2 border-yellow-400 flex items-center justify-center cursor-pointer hover:scale-105 transition-transform shadow-lg",children:(0,s.Y)(G.A,{className:"w-8 h-8 text-white"})},e))}),(0,s.Y)("div",{className:"grid grid-cols-3 gap-2",children:F.slice(0,3).map(t=>(0,s.Y)(Y,{onClick:()=>w(t),disabled:e.coins<t||i,className:"bg-yellow-600 hover:bg-yellow-700 disabled:opacity-50",children:t.toLocaleString()},t))}),p&&(0,s.Y)("div",{className:"text-center p-4 bg-black/20 rounded-lg",children:p.found?(0,s.FD)("div",{className:"text-green-400 font-bold",children:["\uD83C\uDFC6 Treasure found! +",p.coins.toLocaleString()," KEZE!"]}):(0,s.Y)("div",{className:"text-red-400",children:"\uD83D\uDE1E No treasure this time!"})}),(0,s.Y)("div",{className:"text-xs text-gray-400 text-center",children:"40% chance to find treasure • Rewards: 3x-10x your stake"})]})]})}),(0,s.Y)(b,{value:"coinflip",className:"space-y-4",children:(0,s.FD)(T,{className:"bg-gradient-to-r from-blue-600/20 to-cyan-600/20 border-blue-400/30",children:[(0,s.FD)(S,{children:[(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(es.A,{className:"w-5 h-5"}),"Coin Flip"]}),(0,s.Y)("p",{className:"text-gray-300 text-sm",children:"Choose heads or tails and double your Keze coins!"})]}),(0,s.FD)(L,{className:"space-y-4",children:[(0,s.Y)("div",{className:"relative mx-auto w-32 h-32 mb-6",children:(0,s.Y)("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600 border-4 border-yellow-300 shadow-lg flex items-center justify-center ".concat(c?"animate-spin":""),children:(0,s.Y)(k.A,{className:"w-12 h-12 text-white"})})}),(0,s.FD)("div",{className:"text-center mb-4",children:[(0,s.Y)("p",{className:"text-white font-semibold mb-2",children:"Choose your stake:"}),(0,s.Y)("div",{className:"grid grid-cols-2 gap-2",children:F.slice(0,4).map(t=>(0,s.FD)("div",{className:"space-y-2",children:[(0,s.FD)("div",{className:"text-yellow-400 font-bold",children:[t.toLocaleString()," KEZE"]}),(0,s.FD)("div",{className:"grid grid-cols-2 gap-1",children:[(0,s.Y)(Y,{onClick:()=>D(t,"heads"),disabled:e.coins<t||c,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-xs",children:"Heads"}),(0,s.Y)(Y,{onClick:()=>D(t,"tails"),disabled:e.coins<t||c,className:"bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 text-xs",children:"Tails"})]})]},t))})]}),N&&(0,s.FD)("div",{className:"text-center p-4 bg-black/20 rounded-lg",children:[(0,s.FD)("div",{className:"mb-2",children:[(0,s.Y)("span",{className:"text-gray-300",children:"Coin landed on: "}),(0,s.Y)("span",{className:"font-bold text-white",children:N.flip})]}),(0,s.FD)("div",{className:"mb-2",children:[(0,s.Y)("span",{className:"text-gray-300",children:"You chose: "}),(0,s.Y)("span",{className:"font-bold text-white",children:N.guess})]}),N.won?(0,s.FD)("div",{className:"text-green-400 font-bold",children:["\uD83C\uDF89 You won! +",N.coins.toLocaleString()," KEZE!"]}):(0,s.Y)("div",{className:"text-red-400",children:"\uD83D\uDE14 You lost! Better luck next time!"})]}),(0,s.Y)("div",{className:"text-xs text-gray-400 text-center",children:"50% chance to win • Double your stake if you guess correctly"})]})]})})]}),(0,s.FD)(T,{className:"bg-black/20 border-white/10",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(E.A,{className:"w-5 h-5"}),"Gaming Stats"]})}),(0,s.FD)(L,{className:"grid grid-cols-2 gap-4",children:[(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("div",{className:"text-xl font-bold text-yellow-400",children:e.coins.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"Available KEZE"})]}),(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("div",{className:"text-xl font-bold text-blue-400",children:e.tonCoins.toLocaleString()}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:"TON Coins"})]})]})]}),e.coins<100&&(0,s.Y)(T,{className:"bg-red-500/10 border-red-500/30",children:(0,s.Y)(L,{className:"p-4 text-center",children:(0,s.Y)("p",{className:"text-red-400 text-sm",children:"You need at least 100 KEZE coins to play games. Go tap to earn more!"})})})]})}var el=a(5903),ei=a(9099),en=a(4815);function ec(){let{state:e,dispatch:t}=o(),a=[{id:"tapPower",title:"2x Tap Power",description:"Double your coins per tap",icon:E.A,cost:1e3,duration:30,multiplier:2,color:"text-green-400"},{id:"energy",title:"2x Energy Regen",description:"Regenerate energy twice as fast",icon:el.A,cost:800,duration:60,multiplier:2,color:"text-blue-400"},{id:"xp",title:"2x Experience",description:"Gain double XP from all actions",icon:J.A,cost:1200,duration:45,multiplier:2,color:"text-purple-400"},{id:"level",title:"Level Boost",description:"Temporary level increase benefits",icon:A.A,cost:1500,duration:20,multiplier:2,color:"text-yellow-400"}],l=(a,s,r)=>{e.coins>=s&&(t({type:"ACTIVATE_BOOST",boostType:a,cost:s,duration:r}),window.triggerHaptic&&window.triggerHaptic("medium"))},i=e=>{let t=Math.max(0,e-Date.now());if(0===t)return"";let a=Math.floor(t/6e4),s=Math.floor(t%6e4/1e3);return"".concat(a,":").concat(s.toString().padStart(2,"0"))},n=t=>{let a=Date.now();switch(t){case"tapPower":return a<e.boosts.tapPowerBoostExpiry;case"energy":return a<e.boosts.energyBoostExpiry;case"xp":return a<e.boosts.xpBoostExpiry;case"level":return a<e.boosts.levelBoostExpiry;default:return!1}},c=t=>{switch(t){case"tapPower":return e.boosts.tapPowerBoostExpiry;case"energy":return e.boosts.energyBoostExpiry;case"xp":return e.boosts.xpBoostExpiry;case"level":return e.boosts.levelBoostExpiry;default:return 0}};return r.useEffect(()=>{let e=setInterval(()=>{t({type:"CHECK_BOOST_EXPIRY"})},1e3);return()=>clearInterval(e)},[t]),(0,s.FD)("div",{className:"p-4 space-y-6 pb-20",children:[(0,s.FD)("div",{className:"text-center",children:[(0,s.Y)("h1",{className:"text-2xl font-bold text-white mb-2",children:"⚡ Boosts"}),(0,s.Y)("p",{className:"text-gray-300",children:"Enhance your gameplay with powerful temporary boosts!"}),(0,s.FD)("div",{className:"flex items-center justify-center gap-2 mt-3",children:[(0,s.Y)(k.A,{className:"w-5 h-5 text-yellow-400"}),(0,s.FD)("span",{className:"text-lg font-bold text-yellow-400",children:[e.coins.toLocaleString()," KEZE"]})]})]}),(0,s.FD)("div",{className:"space-y-3",children:[(0,s.Y)("h2",{className:"text-xl font-semibold text-white",children:"\uD83D\uDD25 Active Boosts"}),a.some(e=>n(e.id))?(0,s.Y)("div",{className:"grid gap-3",children:a.filter(e=>n(e.id)).map(e=>{let t=e.icon,a=i(c(e.id));return(0,s.Y)(T,{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 border-green-400/30",children:(0,s.Y)(L,{className:"p-4",children:(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center gap-3",children:[(0,s.Y)(t,{className:"w-6 h-6 ".concat(e.color)}),(0,s.FD)("div",{children:[(0,s.Y)("div",{className:"font-semibold text-white",children:e.title}),(0,s.Y)("div",{className:"text-sm text-gray-300",children:e.description})]})]}),(0,s.FD)("div",{className:"text-right",children:[(0,s.Y)(P,{className:"bg-green-600 text-white mb-1",children:"ACTIVE"}),(0,s.FD)("div",{className:"flex items-center gap-1 text-green-400 text-sm",children:[(0,s.Y)(ei.A,{className:"w-3 h-3"}),(0,s.Y)("span",{children:a})]})]})]})})},e.id)})}):(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-6 text-center",children:[(0,s.Y)(A.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,s.Y)("p",{className:"text-gray-400",children:"No active boosts"}),(0,s.Y)("p",{className:"text-gray-500 text-sm",children:"Purchase a boost below to enhance your gameplay!"})]})})]}),(0,s.FD)("div",{className:"space-y-3",children:[(0,s.Y)("h2",{className:"text-xl font-semibold text-white",children:"\uD83D\uDED2 Available Boosts"}),(0,s.Y)("div",{className:"grid gap-4",children:a.map(t=>{let a=t.icon,r=e.coins>=t.cost,i=n(t.id);return(0,s.Y)(T,{className:"bg-black/20 border-white/10",children:(0,s.FD)(L,{className:"p-4",children:[(0,s.FD)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.FD)("div",{className:"flex items-center gap-3",children:[(0,s.Y)(a,{className:"w-6 h-6 ".concat(t.color)}),(0,s.FD)("div",{children:[(0,s.Y)("h3",{className:"font-semibold text-white",children:t.title}),(0,s.Y)("p",{className:"text-sm text-gray-300",children:t.description})]})]}),(0,s.FD)(P,{className:"".concat(t.color.replace("text-","bg-").replace("400","600")," text-white"),children:[t.multiplier,"x"]})]}),(0,s.Y)("div",{className:"flex items-center justify-between mb-3",children:(0,s.FD)("div",{className:"flex items-center gap-4 text-sm text-gray-300",children:[(0,s.FD)("div",{className:"flex items-center gap-1",children:[(0,s.Y)(R.A,{className:"w-4 h-4"}),(0,s.FD)("span",{children:[t.duration,"m"]})]}),(0,s.FD)("div",{className:"flex items-center gap-1",children:[(0,s.Y)(k.A,{className:"w-4 h-4 text-yellow-400"}),(0,s.Y)("span",{className:"text-yellow-400",children:t.cost.toLocaleString()})]})]})}),(0,s.Y)(Y,{onClick:()=>l(t.id,t.cost,t.duration),disabled:!r||i,className:"w-full ".concat(r&&!i?t.color.replace("text-","bg-").replace("400","600")+" hover:"+t.color.replace("text-","bg-").replace("400","700"):"bg-gray-600"),children:i?(0,s.FD)(s.FK,{children:[(0,s.Y)(ei.A,{className:"w-4 h-4 mr-2"}),"Active"]}):r?(0,s.FD)(s.FK,{children:[(0,s.Y)(en.A,{className:"w-4 h-4 mr-2"}),"Purchase"]}):"Not Enough Coins"})]})},t.id)})})]}),(0,s.FD)(T,{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border-purple-400/30",children:[(0,s.Y)(S,{children:(0,s.FD)(B,{className:"text-white flex items-center gap-2",children:[(0,s.Y)(J.A,{className:"w-5 h-5"}),"Boost Tips"]})}),(0,s.FD)(L,{className:"space-y-2 text-sm text-gray-300",children:[(0,s.Y)("p",{children:"• Stack multiple boosts for maximum efficiency"}),(0,s.Y)("p",{children:"• Use Tap Power boost during active gaming sessions"}),(0,s.Y)("p",{children:"• Energy boost is great for long grinding sessions"}),(0,s.Y)("p",{children:"• XP boost helps you level up faster for better rewards"}),(0,s.Y)("p",{children:"• Boosts remain active even when you're offline!"})]})]}),e.coins<800&&(0,s.Y)(T,{className:"bg-red-500/10 border-red-500/30",children:(0,s.Y)(L,{className:"p-4 text-center",children:(0,s.Y)("p",{className:"text-red-400 text-sm",children:"\uD83D\uDCA1 Need more coins? Tap more, complete tasks, or play games to earn KEZE coins!"})})})]})}var eo=a(8646);function ed(){let[e,t]=(0,r.useState)("tap"),{state:a}=o();return(0,s.FD)("div",{className:"max-w-md mx-auto min-h-screen bg-gradient-to-b from-blue-900 via-purple-900 to-indigo-900 text-white",children:[(0,s.FD)("div",{className:"p-4 text-center border-b border-white/10",children:[(0,s.FD)("div",{className:"flex items-center justify-center gap-4 mb-2",children:[(0,s.FD)("div",{className:"flex items-center gap-2",children:[(0,s.Y)(k.A,{className:"w-6 h-6 text-yellow-400"}),(0,s.Y)("span",{className:"text-xl font-bold text-yellow-400",children:a.coins.toLocaleString()}),(0,s.Y)("span",{className:"text-sm text-yellow-300",children:"KEZE"})]}),a.tonCoins>0&&(0,s.FD)("div",{className:"flex items-center gap-2",children:[(0,s.Y)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"T"}),(0,s.Y)("span",{className:"text-xl font-bold text-blue-400",children:a.tonCoins.toLocaleString()}),(0,s.Y)("span",{className:"text-sm text-blue-300",children:"TON"})]})]}),(0,s.FD)("div",{className:"flex items-center justify-center gap-4 text-sm",children:[(0,s.FD)("div",{className:"flex items-center gap-1",children:[(0,s.Y)(A.A,{className:"w-4 h-4 text-blue-400"}),(0,s.FD)("span",{children:[a.energy,"/",a.maxEnergy]})]}),(0,s.FD)("div",{className:"text-purple-300",children:["Level ",a.level]})]})]}),(0,s.FD)(x,{value:e,onValueChange:t,className:"flex-1",children:[(0,s.FD)("div",{className:"flex-1 pb-20",children:[(0,s.Y)(b,{value:"tap",className:"mt-0",children:(0,s.Y)(C,{})}),(0,s.Y)(b,{value:"games",className:"mt-0",children:(0,s.Y)(er,{})}),(0,s.Y)(b,{value:"boosts",className:"mt-0",children:(0,s.Y)(ec,{})}),(0,s.Y)(b,{value:"tasks",className:"mt-0",children:(0,s.Y)(K,{})}),(0,s.Y)(b,{value:"friends",className:"mt-0",children:(0,s.Y)(V,{})}),(0,s.Y)(b,{value:"profile",className:"mt-0",children:(0,s.Y)($,{})})]}),(0,s.Y)("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-black/20 backdrop-blur-md border-t border-white/10",children:(0,s.FD)(g,{className:"w-full h-16 bg-transparent grid grid-cols-6 gap-0",children:[(0,s.FD)(u,{value:"tap",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,s.Y)(W.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-xs",children:"Tap"})]}),(0,s.FD)(u,{value:"games",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,s.Y)(eo.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-xs",children:"Games"})]}),(0,s.FD)(u,{value:"boosts",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white relative",children:[(0,s.Y)(E.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-xs",children:"Boosts"}),Object.values(a.boosts).some((e,t)=>{let s=[a.boosts.tapPowerBoostExpiry,a.boosts.energyBoostExpiry,a.boosts.xpBoostExpiry,a.boosts.levelBoostExpiry];return Date.now()<s[t]&&e>1})&&(0,s.Y)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full"})]}),(0,s.FD)(u,{value:"tasks",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white relative",children:[(0,s.Y)(W.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-xs",children:"Tasks"}),a.tasks.some(e=>e.completed&&e.id.includes("daily"))&&(0,s.Y)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),(0,s.FD)(u,{value:"friends",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,s.Y)(M.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-xs",children:"Friends"})]}),(0,s.FD)(u,{value:"profile",className:"flex-col gap-1 h-full data-[state=active]:bg-white/10 data-[state=active]:text-white",children:[(0,s.Y)(Q.A,{className:"w-4 h-4"}),(0,s.Y)("span",{className:"text-xs",children:"Profile"})]})]})})]})]})}function em(){return(0,s.Y)(c,{children:(0,s.Y)("div",{className:"min-h-screen bg-gradient-to-b from-blue-900 via-purple-900 to-indigo-900",children:(0,s.Y)(ed,{})})})}},9431:(e,t,a)=>{Promise.resolve().then(a.bind(a,7237))}},e=>{var t=t=>e(e.s=t);e.O(0,[853,423,441,684,358],()=>t(9431)),_N_E=e.O()}]);